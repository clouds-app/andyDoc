(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-075ede9e"],{"0b3f":function(t,e,a){},"0de4":function(t,e,a){"use strict";a("77a2")},"0e4a":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"column"===t.flexDirection?"bodyContentDownBox-V":"bodyContentDownBox-H"},[t.$slots.part1?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part1",[t._v("part1")])],2):t._e(),t.$slots.part2?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part2",[t._v("part2")])],2):t._e(),t.$slots.part3?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part3",[t._v("part3")])],2):t._e()])},n=[],i={name:"bodyContentDownItem",props:{flexDirection:{type:String,default:"column"},config:{type:Object,default:function(){return{windowOffsetHeight:0,windowOffsetWidth:0}}}},data:function(){return{}},methods:{}},o=i,s=(a("33bc"),a("5d22")),c=Object(s["a"])(o,r,n,!1,null,"550d1612",null);e["a"]=c.exports},"0ee7":function(t,e,a){},1454:function(t,e,a){},"152f":function(t,e,a){"use strict";a("0b3f")},2590:function(t,e,a){},"2b75":function(t,e,a){"use strict";a("3f05")},"33bc":function(t,e,a){"use strict";a("c294")},"34a5":function(t,e,a){},"3f05":function(t,e,a){},4242:function(t,e,a){"use strict";a("c9f8")},"435d":function(t,e,a){"use strict";a("eea3")},4413:function(t,e,a){"use strict";a("cdad")},"4ee7":function(t,e,a){},"4fcf":function(t,e,a){},6042:function(t,e,a){"use strict";a("8d60")},"77a2":function(t,e,a){},"79dc":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabsButtonListBox"},[a("div",{staticClass:"tabsButtonListItem leftItem"},[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[t._l(t.tabList,(function(e,r){return[a("vxe-radio-button",{key:r,staticClass:"borderRadio",attrs:{label:e.key,status:"my-purple",content:e.value},nativeOn:{click:function(a){return t.selectTabClick(e.key)}}})]}))],2)],1),a("div",{staticClass:"tabsButtonListItem rightItem"})])},n=[],i={props:{currentTab:{type:String,default:"tab1"}},data:function(){return{selectTab:"tab1"}},methods:{selectTabClick:function(t){this.selectTab=t,this.$emit("tabsChange",this.selectTab)}}},o=(a("5180"),{name:"tabs-formList",mixins:[i],props:{defaulttabList:{type:Array,default:function(){return[]}}},data:function(){return{tabList:[]}},mounted:function(){this.gettabList()},methods:{gettabList:function(){var t=this;if(0==this.defaulttabList.length){var e=[],a=this.$store.state.app.currentRouterName;if("sysFrom"!=a&&""!=a){var r=this.$store.state.app.tableColumnsInfo;if(r[a]){for(var n in r[a].listView)if("2"===r[a].listView[n].tableType){var i=r[a].listView[n].tableDesc,o=r[a].listView[n].formSort,s=r[a].listView[n].formSort;e.push({key:"tab"+o,value:i,formSort:s})}this.tabList=e.sort((function(t,e){return t.formSort-e.formSort}))}else setTimeout((function(){t.gettabList()}),300)}}else this.tabList=this.defaulttabList}}}),s=o,c=(a("e551"),a("5d22")),u=Object(c["a"])(s,r,n,!1,null,"19af0b3a",null);e["a"]=u.exports},"7c3f":function(t,e,a){},"897f":function(t,e,a){"use strict";a("1454")},"8d60":function(t,e,a){},"9bdc":function(t,e,a){"use strict";a("4fcf")},ad17:function(t,e,a){"use strict";a("2590")},b585:function(t,e,a){"use strict";a("4ee7")},c038:function(t,e,a){},c294:function(t,e,a){},c9f8:function(t,e,a){},cdad:function(t,e,a){},d1eb:function(t,e,a){"use strict";a("34a5")},e0793:function(t,e,a){"use strict";a("c038")},e263:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bodyContentBox"},[a("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[a("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[a("nvxe-grid",{ref:"mainTable",attrs:{isMainTable:!0,loading:t.listLoading,height:.6*t.windowOffsetHeight,columnsFormName:t.requstConfig.mainFormName,dataUrl:t.requstConfig.modulePreUrl+"/"+t.mainPageSearchType}})]},proxy:!0},{key:"part2",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:"tab1"===t.selectTab,expression:"selectTab==='tab1'"}]},[a("nvxe-grid",{ref:"firstTable",attrs:{dataUrl:"/stock/CarList/item/list",params:{pid:t.currentSelectRowItem.row.id,updateFlag:t.updateFlag},height:.4*t.windowOffsetHeight,columnsFormName:t.requstConfig.tab1FormName}},[a("template",{slot:"toolbar_buttons"},[a("tabsTool",{attrs:{currentTab:t.selectTab},on:{tabsChange:t.tabsChange}})],1)],2)],1)]},proxy:!0}])})],1),a("editBox",{ref:"editBox",on:{submitSuccess:t.submitSuccess}}),a("automaticCar",{ref:"paperCar",on:{submitSuccess:t.submitSuccess}})],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-modal",{staticClass:"popupModalWindow",attrs:{remember:"",fullscreen:"",title:"自动排车",subTitle:""},on:{confirm:function(e){return t.submitEvent()}},scopedSlots:t._u(["0"!=t.radioVal?{key:"footer",fn:function(){return[a("p")]},proxy:!0}:null],null,!0),model:{value:t.showPopupBox,callback:function(e){t.showPopupBox=e},expression:"showPopupBox"}},[a("div",{ref:"editBoxBodyContent",staticClass:"editBoxBodyContentDefaultHW bodyContentItem lastItem"},[a("editBoxContentPartition",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[a("div",{staticClass:"topRadio"},[a("vxe-radio",{attrs:{name:"n1",label:"0",content:"排车界面",size:"mini"},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}}),a("vxe-radio",{attrs:{name:"n2",label:"1",content:"地区设置",size:"mini"},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}}),a("vxe-radio",{attrs:{name:"n3",label:"2",content:"参数设置",size:"mini"},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}})],1),"0"==t.radioVal?a("vxe-form",{ref:"firstForm",attrs:{data:t.formData,size:"small",span:"4","title-align":"right","title-width":"90"}},[a("vxe-form-item",{attrs:{title:"预装车辆设定"}},[a("vxe-input",{attrs:{"suffix-icon":"vxe-icon--menu",readonly:"",placeholder:"预装车辆设定"},on:{"suffix-click":t.inputFocusEvent},model:{value:t.formData.LoadCarSet,callback:function(e){t.$set(t.formData,"LoadCarSet",e)},expression:"formData.LoadCarSet"}})],1),a("vxe-form-item",{attrs:{title:"交货日期"}},[a("vxe-input",{attrs:{type:"date",transfer:""},model:{value:t.formData.startData,callback:function(e){t.$set(t.formData,"startData",e)},expression:"formData.startData"}})],1),a("vxe-form-item",{staticStyle:{width:"170px"},attrs:{"title-width":"25",title:"至"}},[a("vxe-input",{attrs:{type:"date",transfer:""},model:{value:t.formData.endData,callback:function(e){t.$set(t.formData,"endData",e)},expression:"formData.endData"}})],1),a("vxe-form-item",{staticStyle:{width:"100px"},attrs:{title:"   ","title-width":"35"}},[a("vxe-button",{attrs:{size:"medium",content:"配货",loading:t.isloading},on:{click:t.clickGoodsEvent}})],1),a("vxe-form-item",{staticStyle:{width:"400px"},attrs:{title:"装车数据"}},[a("vxe-radio",{staticStyle:{"margin-bottom":"3px"},attrs:{name:"n1",label:"0",content:"按体积",disabled:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),a("vxe-radio",{staticStyle:{"margin-bottom":"3px"},attrs:{name:"n2",label:"1",content:"按面积",disabled:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)],1):t._e(),"0"==t.radioVal?a("lineUpCar",{ref:"inventory",attrs:{componentHeight:t.windowOffsetHeight}}):t._e(),"1"==t.radioVal?a("areaUp",{ref:"client",attrs:{componentHeight:t.windowOffsetHeight}}):t._e(),"2"==t.radioVal?a("parameter",{ref:"area",attrs:{componentHeight:t.windowOffsetHeight}}):t._e(),a("bespeakCar",{ref:"bespeak",attrs:{loadCarSet:t.formData.LoadCarSet},on:{submitEventData:t.submitEventData}})]},proxy:!0},{key:"part2",fn:function(){},proxy:!0}])})],1)])},o=[],s=a("60b5"),c=(a("3bae"),a("62f9"),a("24a8"),a("529f"),a("6a61"),a("5180")),u=a.n(c),l=a("79dc"),f=a("bf8c"),d=a("6b6c"),h=a("1472"),m=a.n(h),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"leftBox",style:{width:t.componentHeight+190+"px"}},[a("div",[t._v("配货信息：")]),a("div",[a("nvxe-grid",{ref:"mainTable",attrs:{checkboxColumnShow:!0,loading:t.isloading,toolbarConfigShow:!1,data:t.goodsInfo,columnsFormName:"StockAutoDeliveryFm",height:t.componentHeight-t.componentHeight/2-82},on:{"cell-click":t.cellClickEvent}},[a("template",{slot:"top"},[a("carBoxButtonList",{attrs:{showBorder:!0,areaUpButton:!0},on:{carButtonEvents:t.carButtonEvents}})],1)],2)],1),a("div",{staticClass:"left"},[a("span",[t._v("未配货信息：")]),a("vxe-checkbox",{attrs:{content:"是否启用树型结构"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.value1,expression:"!value1"}]},[a("nvxe-grid",{ref:"mainTableList",attrs:{loading:t.isloadings,checkboxColumnShow:!0,toolbarConfigShow:!1,data:t.treeList,columnsFormName:"StockAutoNoDeliveryFm",height:t.componentHeight-t.componentHeight/2-37},on:{"checkbox-all":t.checkboxAll,"checkbox-change":t.checkboxChange}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.value1,expression:"value1"}],staticClass:"elTree",style:{height:t.componentHeight-t.componentHeight/2-37+"px"}},[a("el-tree",{ref:"tree",staticClass:"tree",style:{height:t.componentHeight-t.componentHeight/2-37+"px",overflow:"auto",display:"flex"},attrs:{"show-checkbox":"",data:t.treeData,"node-key":"areaCode","highlight-current":!0,"expand-on-click-node":!1,"render-content":function(e,a){var r=a.node,n=a.data,i=a.store;return t.renderContent(e,{node:r,data:n,store:i},"areaName")}},on:{check:t.handleNodeClick}})],1)]),a("div",{staticClass:"rightBox"},[a("div",[a("nvxe-grid",{ref:"firstTables",attrs:{checkboxColumnShow:!0,toolbarConfigShow:!1,data:t.orderInfo,columnsFormName:"StockAutoPlatoonFm",height:t.componentHeight-t.componentHeight/2-82}})],1),a("div",[a("nvxe-grid",{ref:"firstTableList",attrs:{checkboxColumnShow:!0,toolbarConfigShow:!1,columnsFormName:"StockAutoPlatoonFm",height:t.componentHeight-t.componentHeight/2-7,data:t.NoOrderInfo}},[a("template",{slot:"top"},[a("carBoxButtonList",{attrs:{boolType:!0,showButton:!0},on:{carButtonEvent:t.carButtonEvent}})],1)],2)],1)])]),a("vehicleInfo",{ref:"vehicleInfo",attrs:{rows:t.row}})],1)},b=[],g=(a("e3b5"),a("47b8"),a("a037"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-modal",{staticClass:"popupModalWindow",attrs:{title:"车辆信息",width:"35%",height:"50%",subTitle:""},on:{confirm:function(e){return t.submitEvent()}},model:{value:t.showPopupBox,callback:function(e){t.showPopupBox=e},expression:"showPopupBox"}},[a("nvxe-grid",{ref:"firstTables",attrs:{loading:t.isloading,toolbarConfigShow:!1,data:t.orderInfo,columnsFormName:"spStockCarInfoFm",height:t.windowOffsetHeight-210},on:{"cell-click":t.cellClickEvent}})],1)}),v=[],w=a("2ddf"),x={mixins:[w["a"]],props:{rows:{type:Object,default:{}}},data:function(){return{requstConfig:{modulePreUrl:"1"},orderInfo:[],showPopupBox:!1,row:{},isloading:!1}},watch:{showPopupBox:function(t,e){t&&this.getLoadCarSet()}},methods:{cellClickEvent:function(t){this.row=t.row},editClosedEvent:function(){},getLoadCarSet:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isloading=!0,e="/common/sys/popup/basicCarSingle/query?pageNumber=1",a={},t.next=5,d["a"]["post"](e,a);case 5:r=t.sent,this.isloading=!1,this.orderInfo=r.records;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/carAutoParam/carAuto/update",a={id:this.rows.id,carNo:this.row.carNo},t.next=4,d["a"]["post"](e,a);case 4:this.$XModal.message({message:"操作成功!",status:"success"}),this.$parent.getCarAutoParam(),this.showPopupBox=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},C=x,k=(a("d1eb"),a("5d22")),T=Object(k["a"])(C,g,v,!1,null,"67225219",null),D=T.exports,y=a("cb39"),L=a("bc41"),E=(a("34ea"),a("1b62")),$={name:"lineUpCar",mixins:[E["a"]],components:{carBoxButtonList:L["a"],formItemRender:y["a"],vehicleInfo:D},data:function(){return{isloading:!1,isloadings:!1,treeList:[],treeData:[],goodsInfo:[],orderInfo:[],NoOrderInfo:[],formData:{LoadCarSet:"",startData:"",endData:""},value1:!1,row:{},firstTablesObj:"",firstTableListObj:""}},props:{componentHeight:{type:String|Number,default:"600"}},created:function(){},mounted:function(){this.hideColumn()},watch:{value1:function(t,e){this.NoOrderInfo=[],this.getTreeData(),this.getTreeList()}},methods:{hideColumn:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,a=e.$store.getters.loginUserInfo_getter.sysParams.IsCarListFreeArea,r=e.$refs.mainTable.$refs.originListTalbe.getColumns(),n=e.$refs.mainTableList.$refs.originListTalbe.getColumns(),!(r.length>4&&n.length>4)){t.next=22;break}if("0"!=a){t.next=14;break}return i=r.filter((function(t){return"总面积"==t.title})),o=n.filter((function(t){return"总面积"==t.title})),t.next=10,e.$refs.mainTable.$refs.originListTalbe.hideColumn(i[0]);case 10:return t.next=12,e.$refs.mainTableList.$refs.originListTalbe.hideColumn(o[0]);case 12:t.next=20;break;case 14:return s=r.filter((function(t){return"总体积"==t.title})),c=n.filter((function(t){return"总体积"==t.title})),t.next=18,e.$refs.mainTable.$refs.originListTalbe.hideColumn(s[0]);case 18:return t.next=20,e.$refs.mainTableList.$refs.originListTalbe.hideColumn(c[0]);case 20:t.next=23;break;case 22:setTimeout((function(){e.hideColumn()}),300);case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initialize:function(t){this.orderInfo=[],this.NoOrderInfo=[],this.treeList=[],this.treeData=[],this.goodsInfo=[],t&&(this.getTreeData(),this.getTreeList(),this.getCarAutoParam())},carButtonEvents:function(t){switch(this.firstTablesObj=this.$refs["firstTables"].$refs["originListTalbe"],this.firstTableListObj=this.$refs["firstTableList"].$refs["originListTalbe"],t){case"iisAdd":this.iisAddAction();break;case"iisEdit":this.iisEditAction();break;case"iisDel":this.iisDelAction();break;default:break}},iisEditAction:function(){var t=this.$refs["vehicleInfo"];t&&this.row.id&&(t.showPopupBox=!0)},iisAddAction:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.firstTablesObj.remove(),e=this.goodsInfo.findIndex((function(t){return(null===t.mainPierCode||""===t.mainPierCode)&&"1:手动"===t.sourceType})),-1!==e){t.next=12;break}return a="/stock/carAutoParam/carAuto/save",r={sourceType:"1:手动",carNo:"A预排车（使用）",trackCode:"add"+(this.goodsInfo.length+1)},t.next=7,d["a"]["post"](a,r);case 7:return t.next=9,this.getCarAutoParam();case 9:this.row=this.goodsInfo[this.goodsInfo.length-1],t.next=13;break;case 12:this.row=this.goodsInfo[e];case 13:0!==this.firstTableListObj.getCheckboxRecords()&&this.issScheduling(),this.$refs["mainTable"].$refs["originListTalbe"].setCurrentRow(this.row);case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),iisDelAction:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,e.row.id){t.next=3;break}return t.abrupt("return");case 3:e.$XModal.confirm({status:"warning",message:"确定要删除当前选中数据吗？"}).then((function(t){if("confirm"===t){var a=e.firstTablesObj.getTableData().tableData;a.length>0&&e.setNoOrderInfo(a,{trackCode:""});var r="/stock/carAutoParam/carAuto/delete?id="+e.row.id,n={};d["a"]["post"](r,n).then((function(t){})),e.$refs.mainTable.$refs.originListTalbe.remove(e.row),e.firstTablesObj.remove(),e.$XModal.message({message:"删除成功!",status:"success"}),e.getCarAutoParam(),e.refurbishChooseData()}}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),carButtonEvent:function(t){switch(this.firstTablesObj=this.$refs["firstTables"].$refs["originListTalbe"],this.firstTableListObj=this.$refs["firstTableList"].$refs["originListTalbe"],t){case"issScheduling":this.issScheduling();break;case"iisCancel":this.iisCancel();break;default:break}},issScheduling:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.firstTableListObj.getCheckboxRecords(),this.row.id&&0!==e.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.setNoOrderInfo(e,this.row);case 5:this.firstTablesObj.insertAt(e,-1),this.firstTableListObj.removeCheckboxRow(),this.getCarAutoParam();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),iisCancel:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.firstTablesObj.getCheckboxRecords(),0!==e.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.setNoOrderInfo(e,{trackCode:""});case 5:this.firstTablesObj.removeCheckboxRow(),this.getCarAutoParam(),this.refurbishChooseData();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refurbishChooseData:function(){if(this.value1)this.handleNodeClick();else{var t=this.$refs["mainTableList"].$refs["originListTalbe"].getCheckboxRecords(),e=this.getForSplitJointInfo(t,"pCode"),a={checked:!0,row:{pCode:e},bool:!0};this.checkboxChange(a)}},setNoOrderInfo:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),r="/stock/autoCarOrder/update",n=this.getForSplitJointInfo(e,"id"),i={ids:n,trackCode:a.trackCode},t.next=6,d["a"]["post"](r,i);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),objTrim:function(t){var e={},a=t.reduce((function(t,a){return!e[a.areaCode]&&(e[a.areaCode]=t.push(a)),t}),[]);return a},getForSplitJointInfo:function(t,e){var a="";return t.forEach((function(t){""==a?a=t[e]:a+=","+t[e]})),a},checkboxAll:function(t){var e=this.$refs.firstTableList.$refs.originListTalbe;if(t.checked){var a=this.getForSplitJointInfo(t.records,"pCode"),r={checked:!0,row:{pCode:a},bool:!0};this.checkboxChange(r)}else e.remove()},checkboxChange:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.$refs.firstTableList.$refs.originListTalbe,!e.checked){t.next=16;break}if(r="/stock/proc/list/spStockAutoCarList",n={areaCode:e.row.pCode},""!==n.areaCode){t.next=7;break}return a.remove(),t.abrupt("return");case 7:return t.next=9,d["a"]["post"](r,n);case 9:i=t.sent,o=[],i.list.forEach((function(t){null!==t.trackCode&&""!==t.trackCode||o.push(t)})),e.bool&&a.remove(),a.insertAt(o,-1),t.next=20;break;case 16:s=a.getTableData().tableData,c=[],s.forEach((function(t){t.areaCode===e.row.pCode&&c.push(t)})),a.remove(c);case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getOrderInfo:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/autoCarOrder/list",a={trackCode:this.row.trackCode},t.next=4,d["a"]["post"](e,a);case 4:r=t.sent,this.orderInfo=r;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cellClickEvent:function(t){this.row=t.row,this.getOrderInfo()},getCarAutoParam:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isloading=!0,e="/stock/carAutoParam/carAuto/list",a={},t.next=5,d["a"]["post"](e,a);case 5:r=t.sent,this.isloading=!1,this.goodsInfo=r;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTreeData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/autoInfoLink/autoTree",a={},t.next=4,d["a"]["post"](e,a);case 4:r=t.sent,this.treeData=r;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTreeList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isloadings=!0,e="/stock/proc/list/spGetPierAreaWPData",a={},t.next=5,d["a"]["post"](e,a);case 5:r=t.sent,this.isloadings=!1,this.treeList=[],r.list.forEach((function(t){"1"===t.cType&&n.treeList.push(t)}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleNodeClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.getCheckedNodes(),a={checked:!0,row:{pCode:e},bool:!0},this.checkboxChange(a);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getCheckedNodes:function(){var t=this.$refs.tree.getCheckedNodes(),e="";return t.forEach((function(t){0==t.children.length&&(""===e?e=t.pCode:e+=","+t.pCode)})),e}}},O=$,B=(a("4242"),a("f822"),Object(k["a"])(O,p,b,!1,null,"7f3bcde4",null)),R=B.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vxe-form",{ref:"firstForm",staticClass:"vxe-form-maxHeight",attrs:{size:"mini","title-align":"right","title-width":"80",span:"1.1"}},[t._l(t.firstFormData,(function(e,r){return[1==e.type?[a("vxe-form-item",{key:r,attrs:{title:e.autoName}},[a("vxe-checkbox",{on:{change:function(a){return t.valueChangeEvent(e,a)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}})],1)]:t._e()]}))],2),a("div",{staticClass:"vxe-form-maxHeight"},[a("vxe-form",{ref:"firstForm",attrs:{size:"mini","title-align":"right","title-width":"130",span:"3"}},[a("div",[t._l(t.firstFormData,(function(e,r){return[2!=e.type||e.iisdisplay?t._e():[a("vxe-form-item",{key:r,attrs:{title:e.autoName}},[a("vxe-input",{attrs:{size:"small",clearable:""},on:{blur:function(a){return t.valueChangeEvent(e)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}})],1)]]}))],2)])],1),a("vxe-form",{ref:"firstForm",staticClass:"vxeForm",attrs:{size:"mini","title-align":"right",span:"3"}},[a("div",{staticClass:"maxHeightBox"},[a("div",{staticStyle:{width:"260px"}},[t._l(t.firstFormData,(function(e,r){return[r>11&&r<21?[a("vxe-form-item",{key:r,attrs:{"title-width":"150",title:e.autoName}},[a("vxe-select",{attrs:{placeholder:""},on:{change:function(a){return t.changeEvent(e)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}},t._l(t.form,(function(t){return a("vxe-option",{key:t.id,attrs:{value:t.dicLabel,label:t.dicLabel}})})),1)],1)]:t._e()]}))],2),a("div",{staticStyle:{width:"320px"}},[t._l(t.firstFormData,(function(e,r){return[r>20&&r<30?[a("vxe-form-item",{key:r},[a("vxe-input",{staticStyle:{width:"310px"},attrs:{size:"small",clearable:""},on:{blur:function(a){return t.valueChangeEvent(e)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}})],1)]:t._e()]}))],2),a("div",{staticStyle:{width:"150px"}},[t._l(t.firstFormData,(function(e,r){return[r>29&&r<39?[a("vxe-form-item",{key:r,attrs:{title:"车速"}},[a("vxe-input",{attrs:{size:"small",clearable:""},on:{blur:function(a){return t.valueChangeEvent(e)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}})],1)]:t._e()]}))],2),a("div",{staticStyle:{width:"30px"}},[t._l(t.firstFormData,(function(e,r){return[r>38&&r<48?[a("vxe-form-item",{key:r},[a("vxe-checkbox",{on:{change:function(a){return t.valueChangeEvent(e,a)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}})],1)]:t._e()]}))],2),a("div",{staticStyle:{width:"200px"}},[t._l(t.firstFormData,(function(e,r){return[r>47?[a("vxe-form-item",{key:r,attrs:{title:"开机时间"}},[a("vxe-input",{attrs:{disabled:"",type:"datetime",size:"small",clearable:""},on:{blur:function(a){return t.valueChangeEvent(e)}},model:{value:e.autoValue,callback:function(a){t.$set(e,"autoValue",a)},expression:"item.autoValue"}})],1)]:t._e()]}))],2)])])],1)},F=[],A={name:"parameter",components:{},props:{},data:function(){return{firstFormData:[],form:[]}},computed:{},watch:{},created:function(){this.searchTextByValue(),this.sysParams()},methods:{searchTextByValue:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/carAutoParam/list",a={},t.next=4,d["a"]["post"](e,a);case 4:r=t.sent,r.forEach((function(t,e){(1==t.type||e>38&&e<48)&&(1==t.autoValue?t.autoValue=!0:t.autoValue=!1)})),this.firstFormData=r;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sysParams:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/sys/dic/list",a={parentId:"2104291022386234132"},t.next=4,d["a"]["post"](e,a);case 4:r=t.sent,this.form=r;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeEvent:function(t){console.log(t)},valueChangeEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/stock/carAutoParam/update",r={id:e.id,autoCode:e.autoCode,autoValue:!0===e.autoValue?e.autoValue?1:0:e.autoValue?e.autoValue:0},t.next=4,d["a"]["post"](a,r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}},N=A,I=(a("6042"),Object(k["a"])(N,S,F,!1,null,null,null)),P=I.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex",width:"100%"}},[a("div",{staticClass:"tree",style:{height:t.componentHeight-32+"px"}},[a("el-tree",{ref:"tree",staticClass:"elTree",style:{height:t.componentHeight-32+"px",overflow:"auto",display:"flex"},attrs:{data:t.treeData,"node-key":"id","default-expand-all":"","highlight-current":!0,"expand-on-click-node":!1,"render-content":function(e,a){var r=a.node,n=a.data,i=a.store;return t.renderContent(e,{node:r,data:n,store:i},"areaName")}},on:{"node-click":t.handleNodeClick}})],1),a("div",{staticClass:"rightBox"},[a("div",[a("nvxe-grid",{ref:"firstTables",attrs:{toolbarConfigShow:!1,checkboxColumnShow:!1,columnsFormName:"StockAutoCarPierInfoFm",height:t.componentHeight-t.componentHeight/2-15,data:t.clientData},on:{"cell-click":t.cellClickEvents}},[a("template",{slot:"top"},[a("carBoxButtonList",{attrs:{showBorder:!0,showEdit:!1,areaUpButton:!0},on:{carButtonEvents:t.carButtonEvents}})],1)],2)],1),a("div",[a("nvxe-grid",{ref:"firstTable",attrs:{checkboxColumnShow:!1,columnsFormName:"StockAutoAreaFm",height:t.componentHeight-t.componentHeight/2-15,data:t.adjoinData,toolbarConfigShow:!1},on:{"cell-click":t.cellClickEvent}},[a("template",{slot:"top"},[a("carBoxButtonList",{attrs:{boolType:!0,areaUpButton:!0},on:{carButtonEvent:t.carButtonEvent}})],1)],2)],1)])]),a("clientInfo",{ref:"clientInfo",attrs:{tree:t.tree}}),a("adjoinDomain",{ref:"adjoinDomain",attrs:{row:t.row,tree:t.tree,openType:t.openType}})],1)},_=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-modal",{attrs:{title:"区域绑定",width:"50%",height:"60%",subTitle:""},on:{confirm:function(e){return t.submitEvent()}},scopedSlots:t._u(["tab2"==t.selectTab?{key:"footer",fn:function(){return[a("p")]},proxy:!0}:null],null,!0),model:{value:t.showPopupBox,callback:function(e){t.showPopupBox=e},expression:"showPopupBox"}},[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[a("vxe-radio-button",{attrs:{label:"tab1",content:"未绑定客户"}}),a("vxe-radio-button",{attrs:{label:"tab2",content:"已绑定客户"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"tab1"==t.selectTab,expression:"selectTab == 'tab1'"}]},[a("nvxe-edit-grid",{ref:"discountModeRef",attrs:{toolbarConfigShow:!1,showContextMenu:!1,height:t.windowOffsetHeight-165,columns:t.firstTableColumn,data:t.firstTableData1},on:{"edit-closed":t.editClosedEvent}})],1),"tab2"==t.selectTab?a("div",[a("nvxe-edit-grid",{ref:"firstTable",attrs:{checkboxColumnShow:!1,toolbarConfigShow:!1,showContextMenu:!1,height:t.windowOffsetHeight-165,columns:t.firstTableColumn,data:t.firstTableData2},on:{"edit-closed":t.editClosedEvent}})],1):t._e()],1)},H=[],M={mixins:[w["a"]],props:{tree:{type:Object,default:{}}},data:function(){return{requstConfig:{modulePreUrl:"1"},selectTab:"tab1",showPopupBox:!1,firstTableColumn:[{field:"custCode",title:"客户编号",width:"80",align:"left",headerAlign:"center"},{field:"custName",title:"客户简称",width:"90",align:"left",headerAlign:"center"},{field:"isFJAddr",title:"是否附加地址",width:"90",align:"center",headerAlign:"center",cellRender:{name:"vxeCheckbox"}},{field:"areaCode",title:"地区编号",width:"90",align:"left",headerAlign:"center"},{field:"areaName",title:"地区名称",width:"90",align:"left",headerAlign:"center"},{field:"detailAddress",title:"地址",align:"left",headerAlign:"center"}],firstTableData1:[],firstTableData2:[]}},watch:{showPopupBox:function(t,e){t?this.handleNodeClick():this.selectTab="tab1"}},methods:{handleNodeClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/proc/list/spStockautoAreaDetail",a={frmType:"0"},r={frmType:"1"},t.next=5,d["a"]["post"](e,a);case 5:return n=t.sent,t.next=8,d["a"]["post"](e,r);case 8:i=t.sent,this.firstTableData1=i.list,this.firstTableData2=n.list;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editClosedEvent:function(){},submitEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,a=e.$refs.discountModeRef.$refs.originEditTalbe.getCheckboxRecords(),a.length>0&&(a.forEach((function(t){var a="/stock/autoInfoLink/customer?areaCode="+e.tree.areaCode+"&custCode="+t.custCode+"&iisFJAddr="+(t.isFJAddr?"1":"0"),r={};e.getRequest(r,a)})),e.$parent.getTreeData(),e.$refs.discountModeRef.$refs.originEditTalbe.insertAt(a,-1),e.$XModal.message({message:"添加成功!",status:"success"}),e.showPopupBox=!1);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRequest:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["a"]["post"](a,e);case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()}},W=M,q=(a("9bdc"),Object(k["a"])(W,V,H,!1,null,"06b92580",null)),z=q.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-modal",{staticClass:"popupModalWindow",attrs:{title:"相邻区域",width:"55%",height:"65%",subTitle:""},on:{confirm:function(e){return t.submitEvent()}},model:{value:t.showPopupBox,callback:function(e){t.showPopupBox=e},expression:"showPopupBox"}},[a("vxe-form",{ref:"firstForm",attrs:{data:t.formData,size:"small",span:"12","title-align":"right","title-width":"65"}},[a("vxe-form-item",{attrs:{title:"方案名称"}},[a("vxe-input",{attrs:{type:"input"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("vxe-form-item",{attrs:{title:"方案顺序"}},[a("vxe-input",{attrs:{type:"number"},model:{value:t.formData.sequence,callback:function(e){t.$set(t.formData,"sequence",e)},expression:"formData.sequence"}})],1)],1),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"gridLeft"},[a("span",[t._v("未选区域：")]),a("nvxe-edit-grid",{ref:"firstTables",attrs:{toolbarConfigShow:!1,showContextMenu:!1,height:t.windowOffsetHeight-162,columns:t.firstTableColumn,data:t.firstTableData1}})],1),a("div",{staticClass:"buttonBox"},[a("div",{staticClass:"buttonTop"},[a("vxe-button",{attrs:{status:"success",icon:"vxe-icon--d-arrow-right"},on:{click:function(e){return t.buttonClickEvent("right")}}})],1),a("div",{staticClass:"buttonBottom"},[a("vxe-button",{attrs:{status:"success",icon:"vxe-icon--d-arrow-left"},on:{click:function(e){return t.buttonClickEvent("left")}}})],1)]),a("div",{staticClass:"gridLeft"},[a("span",[t._v("已选区域：")]),a("nvxe-edit-grid",{ref:"firstTableList",attrs:{toolbarConfigShow:!1,showContextMenu:!1,height:t.windowOffsetHeight-162,columns:t.optTableColumn,data:t.firstTableData2},on:{"edit-closed":t.editClosedEvent}})],1)])],1)},Y=[],X=a("58c8"),J=(a("1d43"),a("5b12"),a("9b5f"),{mixins:[w["a"]],props:{tree:{type:Object,default:{}},openType:{type:String,default:""},row:{type:Object,default:{}}},data:function(){return{requstConfig:{modulePreUrl:"1"},formData:{name:"",sequence:""},showPopupBox:!1,firstTableColumn:[{field:"areaCode",title:"编号",width:"70",align:"left",headerAlign:"center"},{field:"areaName",title:"名称",width:"70",align:"left",headerAlign:"center"},{field:"remark",title:"备注",width:"90",align:"left",headerAlign:"center"}],optTableColumn:[{field:"pri",title:"优先级",width:"70",align:"right",headerAlign:"center",editRender:{name:"input",autoselect:!0,defaultValue:""}},{field:"areaCode",title:"编号",width:"70",align:"left",headerAlign:"center"},{field:"areaName",title:"名称",width:"70",align:"left",headerAlign:"center"},{field:"remark",title:"备注",width:"90",align:"left",headerAlign:"center"}],firstTableData1:[],firstTableData2:[]}},watch:{showPopupBox:function(t,e){t&&this.getTreeData()}},methods:{editClosedEvent:function(){var t=this.$refs.firstTableList.$refs.originEditTalbe,e=t.getTableData().tableData.sort((function(t,e){return t["pri"]-e["pri"]}));t.remove(),t.insertAt(e)},submitEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="/stock/autoInfoLink/save","iisEdit"==this.openType&&(e="/stock/autoInfoLink/update"),a=this.$refs.firstTableList.$refs.originEditTalbe.getTableData().tableData,!(a.length>0)){t.next=12;break}return r="",a.forEach((function(t){r+=""==r?t.areaCode:","+t.areaCode})),n={linkes:r,selNo:this.formData.sequence,linkName:this.formData.name,areaId:this.tree.areaId},"iisEdit"==this.openType&&(n.id=this.row.id),t.next=10,d["a"]["post"](e,n);case 10:this.$parent.getTreeDataById(this.tree),this.$XModal.message({message:"iisEdit"!==this.openType?"添加成功!":"修改成功!",status:"success"});case 12:this.showPopupBox=!1;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTreeData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/basic/area/list",a={},t.next=4,d["a"]["post"](e,a);case 4:if(r=t.sent,"iisEdit"!=this.openType){t.next=9;break}return this.firstTableData1=this.filterData(r,"1"),this.firstTableData2=this.filterData(r,"2"),t.abrupt("return");case 9:this.firstTableData1=r,this.firstTableData2=[];case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filterData:function(t,e){if(0!==t.length){var a=this.row.linkes.split(",");if("1"==e)return Object(X["a"])(t).filter((function(t){return Object(X["a"])(a).every((function(e){return e!==t.areaCode}))}));var r=[];return a.forEach((function(e,a){t.some((function(t){e===t.areaCode&&(t.pri=1+a,r.push(t))}))})),r}},buttonClickEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this.$refs.firstTables.$refs.originEditTalbe,r=this.$refs.firstTableList.$refs.originEditTalbe,"right"==e?(n=a.getCheckboxRecords(),n.length>0?(n.forEach((function(t,e){t.pri=r.getTableData().tableData.length+1+e})),r.insertAt(n,-1),a.removeCheckboxRow()):this.$XModal.message({message:"请先选择地区信息!",status:"warning"})):(i=r.getCheckboxRecords(),i.length>0?(a.insertAt(i,-1),r.removeCheckboxRow()):this.$XModal.message({message:"请先选择地区信息!",status:"warning"}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),G=J,K=(a("435d"),a("4413"),Object(k["a"])(G,U,Y,!1,null,"385db567",null)),Q=K.exports,Z={name:"lineUpCar",mixins:[E["a"],f["a"]],components:{carBoxButtonList:L["a"],clientInfo:z,adjoinDomain:Q},data:function(){return{toolbarConfig:{zoom:!1,export:!1,print:!1,custom:!1,slots:{buttons:"toolbar_buttons"}},requstConfig:{modulePreUrl:"1"},clientData:[],adjoinData:[],treeData:[],openType:"",tree:{},row:{},rows:{}}},props:{componentHeight:{type:String|Number,default:"600"}},created:function(){this.getTreeData()},methods:{cellClickEvent:function(t){this.row=t.row},cellClickEvents:function(t){this.rows=t.row},getTreeData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/autoInfoLink/autoAreaTree",a={},t.next=4,d["a"]["post"](e,a);case 4:r=t.sent,this.treeData=r;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleNodeClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tree=e,this.getTreeDataById(e),a="/stock/proc/list/spStockautoAreaDetail",r={custCode:e.areaCode},"1"==e.iisCust&&(r.areaCode=e.pCode),t.next=7,d["a"]["post"](a,r);case 7:n=t.sent,this.clientData=n.list;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getTreeDataById:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/stock/autoInfoLink/list",r={areaId:e.areaId},t.next=4,d["a"]["post"](a,r);case 4:n=t.sent,this.adjoinData=n,this.row.id&&this.adjoinData.some((function(t){i.row.id===t.id&&(i.row=t)}));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),carButtonEvents:function(t){switch(t){case"iisAdd":this.iisAddAction();break;case"iisDel":this.iisDelAction();break;default:break}},iisAddAction:function(){if(this.tree.areaCode){var t=this.$refs.clientInfo;t&&(t.showPopupBox=!0)}else this.$XModal.message({message:"请选择地区！",status:"warning"})},iisDelAction:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,e.rows.id){t.next=3;break}return t.abrupt("return");case 3:e.$XModal.confirm({status:"warning",message:"确定要删除当前选中数据吗？"}).then((function(t){if("confirm"===t){var a="/stock/autoInfoLink/customer?areaCode=' '&custCode="+e.rows.custCode+"&iisFJAddr="+(e.rows.isFJAddr?"1":"0"),r={};d["a"]["post"](a,r).then((function(t){})),e.$refs.firstTables.$refs.originListTalbe.remove(e.rows),e.$XModal.message({message:"删除成功!",status:"success"}),e.getTreeData()}}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),carButtonEvent:function(t){switch(t){case"iisAdd":this.openModalEvent("iisAdd");break;case"iisEdit":this.openModalEvent("iisEdit");break;case"iisDel":this.iisDel();break;default:break}},openModalEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("iisEdit"!=e){t.next=3;break}if(this.row.id){t.next=3;break}return t.abrupt("return");case 3:if(this.tree.areaCode){t.next=6;break}return this.$XModal.message({message:"请选择地区！",status:"warning"}),t.abrupt("return");case 6:this.openType=e,a=this.$refs.adjoinDomain,a&&(a.showPopupBox=!0);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),iisDel:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,a=e.$refs.firstTable.$refs.originListTalbe,e.row.id){t.next=4;break}return t.abrupt("return");case 4:e.$XModal.confirm({status:"warning",message:"确定要删除当前选中数据吗？"}).then((function(t){if("confirm"===t){var r="/stock/autoInfoLink/delete?id="+e.row.id,n={};d["a"]["post"](r,n).then((function(t){})),a.remove(e.row),e.$XModal.message({message:"删除成功!",status:"success"})}}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},tt=Z,et=(a("2b75"),a("b585"),Object(k["a"])(tt,j,_,!1,null,"60b5b4b2",null)),at=et.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-modal",{staticClass:"popupModalWindow",attrs:{title:"预装车辆设定",width:"25%",height:"45%",subTitle:""},on:{confirm:function(e){return t.submitEvent()}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("vxe-button",{attrs:{status:"primary",size:"medium",content:"添加"},on:{click:t.addEvent}}),a("vxe-button",{attrs:{status:"danger",size:"medium",content:"删除"},on:{click:t.delRowAction}}),a("vxe-button",{attrs:{status:"success",size:"medium",content:"确定"},on:{click:t.submitEvent}}),a("vxe-button",{attrs:{status:"info",size:"medium",content:"取消"},on:{click:t.cancel}})]},proxy:!0}]),model:{value:t.showPopupBox,callback:function(e){t.showPopupBox=e},expression:"showPopupBox"}},[a("nvxe-edit-grid",{ref:"discountModeRef",staticClass:"discountModeGrid",attrs:{toolbarConfigShow:!1,showContextMenu:!1,height:t.windowOffsetHeight-260,columns:t.firstTableColumn,data:t.firstTableData},on:{"edit-closed":t.editClosedEvent}})],1)},nt=[],it={mixins:[w["a"]],props:{loadCarSet:{type:String,default:""}},data:function(){return{requstConfig:{modulePreUrl:"1"},showPopupBox:!1,firstTableColumn:[{field:"volume",title:"体积",headerAlign:"center",align:"right",width:"100",editRender:{name:"$input",autoselect:!0,props:{type:"number"}}},{field:"entrucking",title:"装车数",width:"100",headerAlign:"center",align:"right",editRender:{name:"$input",autoselect:!0,props:{type:"number"}}}],firstTableData:[]}},watch:{showPopupBox:function(t,e){t&&this.getLoadCarSet()}},methods:{editClosedEvent:function(){},getLoadCarSet:function(){if(this.loadCarSet){var t=this.loadCarSet.split(";"),e=[];t.forEach((function(t){var a=t.split(","),r={volume:a[0],entrucking:a[1]};e.push(r)})),this.firstTableData=u()(e)}},addEvent:function(){var t=this.$refs["discountModeRef"].$refs["originEditTalbe"];t.insertAt({volume:0,entrucking:0},-1)},cancel:function(){this.showPopupBox=!1},submitEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.$refs["discountModeRef"].$refs["originEditTalbe"].getTableData().tableData,a="",e.forEach((function(t){""==a?a=t.volume+","+t.entrucking:a+=";"+t.volume+","+t.entrucking})),this.$XModal.message({message:"操作成功!",status:"success"}),this.$emit("submitEventData",a),this.showPopupBox=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),delRowAction:function(){var t=this.$refs["discountModeRef"].$refs["originEditTalbe"];t&&t.removeCheckboxRow()}}},ot=it,st=(a("152f"),Object(k["a"])(ot,rt,nt,!1,null,"0eb2d0a6",null)),ct=st.exports,ut={name:"edit-carList",mixins:[f["a"]],components:{tabsTool:l["a"],lineUpCar:R,areaUp:at,parameter:P,bespeakCar:ct},data:function(){return{isloading:!1,requstConfig:{modulePreUrl:" "},showPopupBox:!1,radioVal:"0",windowOffsetHeight:"",windowOffsetWidth:"",formData:{LoadCarSet:"",startData:m()().format("YYYY-MM-DD"),endData:m()().format("YYYY-MM-DD")},value1:this.$store.getters.loginUserInfo_getter.sysParams.IsCarListFreeArea,LoadCarSet:{},stockpapercarlistFm:[],stockpapercarlist_itemFm:[]}},watch:{showPopupBox:function(t,e){t?(this.getContentWindowWidthHeight(),this.searchTextByValue()):this.radioVal="0"}},computed:{},methods:{loadColumnsByName:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/sys/form/init/stockpapercarlistFm",a={},t.next=4,d["a"]["get"](e,a);case 4:r=t.sent,this.stockpapercarlistFm=r.initData.master,this.stockpapercarlist_itemFm=r.initData.stockpapercarlist_itemFm;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n,i,o,s,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadColumnsByName();case 2:return e=this.$refs["inventory"].row,a=this.$refs["inventory"].$refs["firstTables"].$refs["originListTalbe"].getTableData().tableData,r=[],a.forEach((function(t){delete t.id,Object.keys(c.stockpapercarlist_itemFm).forEach((function(e){c.stockpapercarlist_itemFm[e]=t[e]})),r.push(c.stockpapercarlist_itemFm)})),Object.keys(this.stockpapercarlistFm).forEach((function(t){c.stockpapercarlistFm[t]=e[t]})),n=this.getNewGoodsList(a),i="",n.forEach((function(t){""==i?i=t.custName+"("+t.cube+")":i+=">"+t.custName+"("+t.cube+")"})),this.stockpapercarlistFm.custList=i,o="/stock/CarList/saveOrUpdate",s={items:{addList:r,defaultList:r,deleteList:[],updateList:[]},master:this.stockpapercarlistFm},t.next=15,d["a"]["update"](o,s);case 15:this.$XModal.message({message:"操作成功!",status:"success"}),this.showPopupBox=!1,this.$emit("submitSuccess"),this.$refs["inventory"].initialize();case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getNewGoodsList:function(t){var e={};t.forEach((function(t){var a=t.custName;e[a]?(e[a].cube=Number(e[a].cube),e[a].cube+=Number(t.cube),e[a].cube=e[a].cube.toFixed(4)):e[a]=t}));var a=[];for(var r in e)a.push(e[r]);return a},clickGoodsEvent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isloading=!0,e="/stock/proc/list/spStockCreatePierData",a="/stock/carAutoParam/autoCarArea",r={startTime:this.formData.startData,endTime:this.formData.endData},n={},t.next=7,d["a"]["update"](e,r);case 7:return t.next=9,d["a"]["update"](a,n);case 9:return t.next=11,this.$refs["inventory"].initialize("all");case 11:this.isloading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),inputFocusEvent:function(){var t=this.$refs["bespeak"];t&&(t.showPopupBox=!0)},submitEventData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.formData.LoadCarSet=e,a="/stock/carAutoParam/update",r={id:this.LoadCarSet.id,autoCode:"LoadCarSet",autoValue:e},t.next=5,d["a"]["post"](a,r);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),searchTextByValue:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/carAutoParam/list",a={},t.next=4,d["a"]["post"](e,a);case 4:r=t.sent,r.length>0&&r.some((function(t){if("DueDays"===t.autoCode){var e=m()(n.formData.startData).subtract(t.autoValue,"day");n.formData.startData=m()(e).format("YYYY-MM-DD");var a=m()(n.formData.endData).subtract(3,"day");n.formData.endData=m()(a).format("YYYY-MM-DD")}"LoadCarSet"===t.autoCode&&(n.LoadCarSet=t,n.formData.LoadCarSet=t.autoValue)}));case 6:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getContentWindowWidthHeight:function(){var t=this;this.$nextTick((function(){t.windowOffsetHeight=700,t.windowOffsetWidth=0,clearTimeout(t.editPopupModalReSizeTimer),t.editPopupModalReSizeTimer=setTimeout((function(){var e=t.$refs["editBoxBodyContent"];if(e&&e.offsetHeight){var a=e.offsetHeight,r=e.offsetWidth;t.windowOffsetHeight=Number(a),t.windowOffsetWidth=Number(r)}}),300)}))}}},lt=ut,ft=(a("ad17"),a("e0793"),Object(k["a"])(lt,i,o,!1,null,"c562a922",null)),dt=ft.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-modal",{attrs:{remember:"",fullscreen:"",title:t.title,subTitle:t.subTitle,loading:t.vxeModalLoading},on:{confirm:function(e){return t.submitEvent()}},model:{value:t.showEditBox,callback:function(e){t.showEditBox=e},expression:"showEditBox"}},[a("div",{ref:"editBoxBodyContent",staticClass:"editBoxBodyContentDefaultHW"},[a("editBoxContentPartition",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[a("div",{staticStyle:{overflow:"auto"},style:{height:t.editBoxFormHeight+"px"}},[a("formItemRender",{ref:"renderForm",attrs:{formValueChangeRes:t.formValueChangeRes,firstFormRules:t.requiredRule[t.requstConfig.mainFormName],showEditBox:t.showEditBox,firstFormData:t.firstFormDataMaster,mainFormName:t.requstConfig.mainFormName,formItemList:t.formItemList},on:{formItemValueEvent:t.formItemValueEvent}})],1)]},proxy:!0},{key:"part2",fn:function(){return[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[a("tabsTool",{attrs:{currentTab:t.selectTab},on:{tabsChange:t.tabsChange}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"tab1"==t.selectTab,expression:"selectTab == 'tab1'"}]},[a("nvxe-edit-grid",{ref:"firstTable",attrs:{"edit-rules":t.requiredRule[t.requstConfig.tab1FormName],height:t.windowOffsetHeight-t.defaultBorderHeight-t.editBoxFormHeight-t.tabHeight,columnsFormName:t.requstConfig.tab1FormName,data:t.firstTableData}})],1)]},proxy:!0}])})],1)])},mt=[],pt={mapList:{items:"firstTable"}},bt={name:"edit-carList",mixins:[f["a"]],components:{formItemRender:y["a"],tabsTool:l["a"]},provide:function(){var t=this;return{getPopupModalConfig:function(){return t.popupModalConfig}}},data:function(){return{editBoxFormHeight:120,requstConfig:{modulePreUrl:"/stock/CarList",mainFormName:"stockpapercarlistFm",tab1FormName:"stockpapercarlist_itemFm"},popupModalConfig:{firstTable:{defaultList:"",matchField:"",mainFormName:"spStockCarAreaFm",fieldName:"poLine",editDisabled:!0,requstTab1Config:{isStoredProcedure:!0,modulePreUrl:"/stock/proc/page/spStockPaperLostPop",filterName:"workNo",params:{},subformName:"spStockPaperLostItemFm"}}}}},methods:{iisDelActionEvent:function(){var t=this.$refs.firstTable.$refs.originEditTalbe.getTableData().fullData,e={};e.demoData=t,this.$store.dispatch("set_popupModalCarData",e)},popupModalDataBeforeRes:function(t){var e=this.getNewGoodsList(t.dataList),a="";e.forEach((function(t){""==a?a=t.custCodeName+"("+t.cube+")":a+=">"+t.custCodeName+"("+t.cube+")"}));var r={field:"custList",value:a};this._inputValueChange(r)},getNewGoodsList:function(t){var e={};t.forEach((function(t){var a=t.custCodeName;e[a]?(e[a].cube=Number(e[a].cube),e[a].cube+=Number(t.cube),e[a].cube=e[a].cube.toFixed(4)):e[a]=t}));var a=[];for(var r in e)a.push(e[r]);return a},popupChange:function(t){this.popupModalConfig.firstTable.matchField=t.matchField},closeWindowAction:function(){this.$store.dispatch("set_popupModalCarData",{}),this.firstFormDataMaster=u()(this.formDefaultDataObj),this.setTableDefaultData(pt,[])},setDefaultValue:function(t){if(t.master){var e={carNo:t.master.carNo,carWorkerName:t.master.carWorkerName};this.popupModalConfig.firstTable.matchField=e,this.popupModalConfig.firstTable.defaultList=t.items.defaultList,this.firstFormData=Object.assign({},pt),this.firstFormDataMaster=u()(t.master),this.setTableDefaultData(pt,t)}else this.popupModalConfig.firstTable.defaultList="",this.firstFormData=Object.assign({},pt),this.firstFormDataMaster=u()(t),this.setTableDefaultData(pt,[])}}},gt=bt,vt=(a("897f"),Object(k["a"])(gt,ht,mt,!1,null,"dea52356",null)),wt=vt.exports,xt=a("0e4a"),Ct={name:"carList",components:{editBox:wt,tabsTool:l["a"],bodyContentDownItem:xt["a"],automaticCar:dt},data:function(){return{requstConfig:{modulePreUrl:"/stock/CarList",mainFormName:"stockpapercarlistFm",tab1FormName:"stockpapercarlist_itemFm"}}},mixins:[E["a"],w["a"]],methods:{extBtnFunction:function(t){switch(t){case"autoCarList":this.autoCarList();break;default:break}},autoCarList:function(){var t=this.$refs["paperCar"];t&&(t.showPopupBox=!0)}}},kt=Ct,Tt=(a("0de4"),Object(k["a"])(kt,r,n,!1,null,"c12e1f3e",null));e["default"]=Tt.exports},e551:function(t,e,a){"use strict";a("0ee7")},eea3:function(t,e,a){},f822:function(t,e,a){"use strict";a("7c3f")}}]);