(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11392014"],{"0e4a":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"column"===e.flexDirection?"bodyContentDownBox-V":"bodyContentDownBox-H"},[e.$slots.part1?a("div",{staticClass:"bodyContentDownItem",style:{width:e.config.windowOffsetWidth+"px"}},[e._t("part1",[e._v("part1")])],2):e._e(),e.$slots.part2?a("div",{staticClass:"bodyContentDownItem",style:{width:e.config.windowOffsetWidth+"px"}},[e._t("part2",[e._v("part2")])],2):e._e(),e.$slots.part3?a("div",{staticClass:"bodyContentDownItem",style:{width:e.config.windowOffsetWidth+"px"}},[e._t("part3",[e._v("part3")])],2):e._e()])},r=[],o={name:"bodyContentDownItem",props:{flexDirection:{type:String,default:"column"},config:{type:Object,default:function(){return{windowOffsetHeight:0,windowOffsetWidth:0}}}},data:function(){return{}},methods:{}},n=o,s=(a("33bc"),a("5d22")),m=Object(s["a"])(n,i,r,!1,null,"550d1612",null);t["a"]=m.exports},"0ee7":function(e,t,a){},"31dc":function(e,t,a){"use strict";a("fa24")},"33bc":function(e,t,a){"use strict";a("c294")},3554:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bodyContentBox"},[a("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[a("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:e.windowOffsetHeight,windowOffsetWidth:e.windowOffsetWidth}},scopedSlots:e._u([{key:"part1",fn:function(){return[a("nvxe-grid",{ref:"mainTable",attrs:{isMainTable:!0,loading:e.listLoading,height:.6*e.windowOffsetHeight,columnsFormName:e.requstConfig.mainFormName,dataUrl:e.requstConfig.modulePreUrl+"/"+e.mainPageSearchType}})]},proxy:!0},{key:"part2",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:"tab1"===e.selectTab,expression:"selectTab==='tab1'"}]},[a("nvxe-grid",{ref:"firstTable",attrs:{dataUrl:"/mrp/paper/mergemo/slave/list",params:{pid:e.currentSelectRowItem.row.id,updateFlag:e.updateFlag},height:.4*e.windowOffsetHeight,columnsFormName:e.requstConfig.tab1FormName}},[a("template",{slot:"toolbar_buttons"},[a("tabsTool",{attrs:{currentTab:e.selectTab},on:{tabsChange:e.tabsChange}})],1)],2)],1)]},proxy:!0}])})],1),a("editBox",{ref:"editBox",on:{submitSuccess:e.submitSuccess}}),a("sheillingModal",{ref:"paperCar",on:{submitSuccess:e.submitSuccess}})],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nvxe-modal",{staticClass:"popupModalWindow",attrs:{remember:"",fullscreen:"",title:"合单",subTitle:""},on:{confirm:function(t){return e.submitEvent()}},model:{value:e.showPopupBox,callback:function(t){e.showPopupBox=t},expression:"showPopupBox"}},[a("div",{ref:"editBoxBodyContent",staticClass:"editBoxBodyContentDefaultHW bodyContentItem lastItem"},[a("div",[a("vxe-form",{ref:"firstForm",attrs:{data:e.autoAccReceFormData,size:"small",span:"4","title-align":"right","title-width":"70"}},[a("vxe-form-item",{attrs:{span:"5",title:"客户编号",field:"custCode"}},[a("popUpPullDown",{ref:"popUpPullDownRef_custCode",attrs:{returnSelectedRow:e.isShowModal,size:"mini",matchField:e.popUpPullDownConfig_custCode.editRender.matchField,currentValue:e.autoAccReceFormData.custCode,field:e.popUpPullDownConfig_custCode.field,paramsItem:e.popUpPullDownConfig_custCode},on:{popupChange:e.popupChange_custCode}})],1),a("vxe-form-item",{attrs:{span:"3",title:"纸质",field:"artCode"}},[a("popUpPullDown",{ref:"popUpPullDownRef_custCode",attrs:{returnSelectedRow:e.isShowModal,size:"mini",matchField:e.popUpPullDownConfig_artCode.editRender.matchField,currentValue:e.autoAccReceFormData.artCode,field:e.popUpPullDownConfig_artCode.field,paramsItem:e.popUpPullDownConfig_artCode},on:{popupChange:e.popupChange_artCode}})],1),a("vxe-form-item",{attrs:{span:"3",title:"楞别",field:"lbCode"}},[a("popUpPullDown",{ref:"popUpPullDownRef_custCode",attrs:{returnSelectedRow:e.isShowModal,size:"mini",matchField:e.popUpPullDownConfig_lbCode.editRender.matchField,currentValue:e.autoAccReceFormData.lbCode,field:e.popUpPullDownConfig_lbCode.field,paramsItem:e.popUpPullDownConfig_lbCode},on:{popupChange:e.popupChange_lbCode}})],1),a("vxe-form-item",{attrs:{span:"3",title:"合单类型",field:"mergeType"}},[a("selectOption",{attrs:{size:"mini",isLoadDataNow:!0,paramsItem:e.selectOptionConfig_dataSource,currentValue:e.autoAccReceFormData.mergeType,field:e.selectOptionConfig_dataSource.field},on:{selectChange:e.selectChange_dataSource}})],1),a("vxe-form-item",{attrs:{span:"3",title:"数量从",field:"bQty"}},[a("vxe-input",{attrs:{type:"number"},model:{value:e.autoAccReceFormData.bQty,callback:function(t){e.$set(e.autoAccReceFormData,"bQty",t)},expression:"autoAccReceFormData.bQty"}})],1),a("vxe-form-item",{attrs:{span:"2","title-width":"20",title:">",field:"eQty"}},[a("vxe-input",{attrs:{type:"number"},model:{value:e.autoAccReceFormData.eQty,callback:function(t){e.$set(e.autoAccReceFormData,"eQty",t)},expression:"autoAccReceFormData.eQty"}})],1),a("vxe-form-item",{attrs:{span:"3","title-width":"30",title:" ",field:"iisWait"}},[a("vxe-checkbox",{attrs:{content:"待通知生产"},model:{value:e.autoAccReceFormData.iisWait,callback:function(t){e.$set(e.autoAccReceFormData,"iisWait",t)},expression:"autoAccReceFormData.iisWait"}})],1),a("vxe-form-item",{attrs:{span:"4",title:"交货日期",field:"startDate"}},[a("vxe-input",{attrs:{type:"date",clearable:""},model:{value:e.autoAccReceFormData.startDate,callback:function(t){e.$set(e.autoAccReceFormData,"startDate",t)},expression:"autoAccReceFormData.startDate"}})],1),a("vxe-form-item",{attrs:{span:"3","title-width":"20",title:">",field:"endDate"}},[a("vxe-input",{attrs:{type:"date",clearable:""},model:{value:e.autoAccReceFormData.endDate,callback:function(t){e.$set(e.autoAccReceFormData,"endDate",t)},expression:"autoAccReceFormData.endDate"}})],1),a("vxe-form-item",{attrs:{"title-width":"200",title:" "}},[a("vxe-button",{attrs:{status:"primary",content:"搜索"},on:{click:e.searchClickEvent}})],1)],1)],1),a("div",{staticStyle:{display:"flex"}},[a("div",{style:{width:e.windowOffsetWidth/3+"px"}},[a("nvxe-grid",{ref:"firstTables",attrs:{loading:e.isloading,toolbarConfigShow:!1,checkboxColumnShow:!0,columnsFormName:"spplangetmergemodataFm",height:e.windowOffsetHeight-80,data:e.orderList}})],1),a("div",{staticClass:"manipulate"},[a("div",{staticClass:"topManipulate"},[a("vxe-button",{attrs:{status:"primary",content:"合单"},on:{click:e.sheillingClickEvent}})],1),a("div",[a("vxe-button",{staticClass:"bottomManipulate",attrs:{status:"primary",icon:"vxe-icon--arrow-left"},on:{click:e.cancelEvent}})],1)]),a("div",{staticClass:"rightBox"},[a("nvxe-grid",{ref:"renderForm",attrs:{loading:e.isloadingrenderForm,toolbarConfigShow:!1,columnsFormName:"spplangetmergemodatamainFm",height:e.windowOffsetHeight/2-40,data:e.clientData},on:{"cell-click":e.cellClickEvent}}),a("nvxe-grid",{ref:"firstTable",attrs:{loading:e.isloadingFirstTable,toolbarConfigShow:!1,columnsFormName:"spplangetmergemodataitemFm",height:e.windowOffsetHeight/2-40,data:e.detailData}})],1)])])])},n=[],s=a("58c8"),m=a("60b5"),l=(a("6a61"),a("3bae"),a("b3b0"),a("a5f8"),a("e3b5"),a("3337"),a("24a8"),a("62f9"),a("5180")),c=a.n(l),u=a("6b6c"),d=a("1472"),f=a.n(d),p=a("bf8c"),h={startDate:f()().subtract(7,"day").format("YYYY-MM-DD"),endDate:f()().format("YYYY-MM-DD"),iisWait:!1,mergeType:"1",custCode:"",artCode:"",lbCode:"",bQty:"",eQty:""},g={name:"sheillingModal",mixins:[p["a"]],components:{},data:function(){return{selectOptionConfig_dataSource:{field:"mergeType",editRender:{sourceKey:"mergerType"}},popUpPullDownConfig_custCode:{field:"custCode",editRender:{defaultText:"",defaultValue:"",matchField:"coCustCode:custCode",name:"popup",sourceKey:"customerMultiBox"}},popUpPullDownConfig_artCode:{field:"artCode",editRender:{defaultText:"",defaultValue:"",matchField:"artCode",name:"popup",sourceKey:"PaperSpecialArtBox"}},popUpPullDownConfig_lbCode:{field:"lbCode",editRender:{defaultText:"",defaultValue:"",matchField:"lbCode",name:"popup",sourceKey:"lengSingleBox_paperOrderQuery"}},isShowModal:!1,isloading:!1,isloadingFirstTable:!1,isloadingrenderForm:!1,requstConfig:{modulePreUrl:" "},showPopupBox:!1,windowOffsetHeight:"",windowOffsetWidth:"",autoAccReceFormData:Object.assign({},h),clientData:[],detailData:[],orderList:[],orderAll:[],row:{},rowIndex:0}},watch:{showPopupBox:function(e,t){e?this.getContentWindowWidthHeight():(this.detailData=[],this.orderAll=[],this.orderList=[],this.clientData=[],this.autoAccReceFormData=Object.assign({},h))}},computed:{},methods:{cellClickEvent:function(e){var t=this;this.rowIndex=e._rowIndex,this.isloadingFirstTable=!0,this.row=e.row;var a=[];setTimeout((function(){t.orderAll.forEach((function(e,i){t.row.coNo.includes(e.mmiCoNo)&&a.push(e)})),t.isloadingFirstTable=!1}),200),this.detailData=a},cancelEvent:function(){var e=this;if(this.row.coNo){this.orderAll.forEach((function(t,a){e.row.coNo.includes(t.mmiCoNo)&&delete e.orderAll[a]})),this.orderAll=this.orderAll.filter((function(e){return e}));var t=this.$refs.renderForm.$refs.originListTalbe.getTableData().fullData;t.length-1==this.rowIndex&&(this.rowIndex=t.length-2),2==t.length&&(this.rowIndex=0),this.$refs.renderForm.$refs.originListTalbe.remove(this.row),this.detailData=[];var a=this.$refs.renderForm.$refs.originListTalbe.getTableData().fullData;this.$refs.renderForm.$refs.originListTalbe.setCurrentRow(a[this.rowIndex]);var i={row:a[this.rowIndex],_rowIndex:this.rowIndex};this.cellClickEvent(i),this.searchClickEvent()}else this.$XModal.message({message:"请选择要取消合单的数据!",status:"warning"})},sheillingClickEvent:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,a,i,r,o,n,s,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,a=this.$refs.firstTables.$refs.originListTalbe.getCheckboxRecords(),0!=this.autoAccReceFormData.mergeType){e.next=23;break}if(2==a.length){e.next=6;break}return t.$XModal.message({message:"大小开合单模式下必须选择两笔订单才能进行合单!",status:"warning"}),e.abrupt("return");case 6:if(a[0].coQty===a[1].coQty){e.next=9;break}return t.$XModal.message({message:"订单数不同，不允许合单!",status:"warning"}),e.abrupt("return");case 9:if(a[0].mmCSizeL===a[1].mmCSizeL){e.next=12;break}return t.$XModal.message({message:"纸长不同，不允许合单!",status:"warning"}),e.abrupt("return");case 12:if(a[0].artCode===a[1].artCode){e.next=15;break}return t.$XModal.message({message:"纸质不同，不允许合单!",status:"warning"}),e.abrupt("return");case 15:if(a[0].mmSizeYx===a[1].mmSizeYx){e.next=18;break}return t.$XModal.message({message:"压线不同，不允许合单!",status:"warning"}),e.abrupt("return");case 18:if(a[0].lbCode===a[1].lbCode){e.next=21;break}return t.$XModal.message({message:"楞别不同，不允许合单!",status:"warning"}),e.abrupt("return");case 21:e.next=49;break;case 23:if(!(a.length<2)){e.next=26;break}return t.$XModal.message({message:"请最少选择两笔订单才能进行合单!",status:"warning"}),e.abrupt("return");case 26:if(i=this.getMaxIndex(a,"mmCSizeW"),r=this.getMaxIndex(a,"mmCSizeL"),o=i.some((function(e){return r.includes(e)})),o){e.next=32;break}return t.$XModal.message({message:"宽度和长度不同，不允许合单!",status:"warning"}),e.abrupt("return");case 32:n=1;case 33:if(!(n<10)){e.next=40;break}if(!this.isRepeat(a,"mmPz"+n)){e.next=37;break}return t.$XModal.message({message:"配纸不同，不允许合单!",status:"warning"}),e.abrupt("return");case 37:n++,e.next=33;break;case 40:if(!this.isRepeat(a,"artCode")){e.next=43;break}return t.$XModal.message({message:"纸质不同，不允许合单!",status:"warning"}),e.abrupt("return");case 43:if(!this.isRepeat(a,"lbCode")){e.next=46;break}return t.$XModal.message({message:"楞别不同，不允许合单!",status:"warning"}),e.abrupt("return");case 46:if(!this.isRepeat(a,"mmSizeYx")){e.next=49;break}return t.$XModal.message({message:"压线不同，不允许合单!",status:"warning"}),e.abrupt("return");case 49:return e.next=51,this.countMmPsizeW(a);case 51:s=e.sent,0==s.length?this.$XModal.confirm({status:"warning",message:"没有找到合适的生产纸度，是否还要继续？"}).then((function(e){"confirm"===e&&(m.voluationMajorTable(a,s),m.voluationTable(a),m.$refs.firstTables.$refs.originListTalbe.remove(a))})):(this.voluationMajorTable(a,s),this.voluationTable(a),this.$refs.firstTables.$refs.originListTalbe.remove(a));case 53:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getMaxIndex:function(e,t){var a=Math.max.apply(Math,e.map((function(e){return e[t]}))),i=[];return e.forEach((function(e,r){a==e[t]&&i.push(r)})),i},voluationTable:function(e){var t=this,a=[];this.isloadingFirstTable=!0,setTimeout((function(){e.forEach((function(e,i){var r={};r.mmiCoNo=e.coNo,r.mmiDate=e.coDate,r.mmiDueDate=e.mmDueDate,r.custCode=e.custCode,r.custName=e.custName,r.artCode=e.artCode,r.lbCode=e.lbCode,r.mmiQty=e.coQty,r.mmiCSizeW=e.mmCSizeW,r.mmiCSizeL=e.mmCSizeL,r.mmiSizeYx=e.mmSizeYx,r.mmiSSizeW=e.mmSSizeW,r.mmiSSizeL=e.mmSSizeL,r.mmiUnitIdW=e.mmUnitIdW,r.mmiUnitIdWText=e.mmUnitIdWText,r.mmiUnitIdL=e.mmUnitIdL,r.mmiUnitIdLText=e.mmUnitIdLText,r.mmiRemark=e.proRemark,r.mmiSource=e.mmiSource,a.push(r),t.orderAll.push(r)})),t.isloadingFirstTable=!1}),200),this.detailData=a},voluationMajorTable:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,a){var i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isloadingrenderForm=!0,i={},i.coNo=this.splitMmSizeYx(t,"coNo"),i.mergeType=this.autoAccReceFormData.mergeType,i.mergeTypeText=0==this.autoAccReceFormData.mergeType?"0：大小开":"1 最大尺寸",i.artCode=t[0].artCode,i.lbCode=t[0].lbCode,i.mmCSizeW=0==this.autoAccReceFormData.mergeType?this.forCountValue(t,"mmCSizeW"):Math.max.apply(Math,t.map((function(e){return e.mmCSizeW}))),i.mmCSizeL=Math.max.apply(Math,t.map((function(e){return e.mmCSizeL}))),i.mmSSizeW=0==this.autoAccReceFormData.mergeType?this.forCountValue(t,"mmSSizeW"):Math.max.apply(Math,t.map((function(e){return e.mmSSizeW}))),i.mmSSizeL=Math.max.apply(Math,t.map((function(e){return e.mmSSizeL}))),i.mmUnitIdW=t[0].mmUnitIdW,i.mmUnitIdWText=t[0].mmUnitIdWText,i.mmUnitIdL=t[0].mmUnitIdL,i.mmUnitIdLText=t[0].mmUnitIdLText,i.mmQty=this.forCountValue(t,"coQty"),i.mmPlanQty="0",i.mmSizeYx=this.splitMmSizeYx(t,"mmSizeYx"),i.mmDate=f()().format("YYYY-MM-DD HH:mm:ss"),i.mmDueDate=t[0].mmDueDate,i.custName="合单",i.mmRemark=t[0].proRemark,i.mmPz1=t[0].mmPz1,i.mmPz2=t[0].mmPz2,i.mmPz3=t[0].mmPz3,i.mmPz4=t[0].mmPz4,i.mmPz5=t[0].mmPz5,i.mmPz6=t[0].mmPz6,i.mmPz7=t[0].mmPz7,i.mmPz8=t[0].mmPz8,i.mmPz9=t[0].mmPz9,i.mmYsType=t[0].mmYsType,i.mmYsDepth=t[0].mmYsDepth,a.length>0&&(i.mmPsizeW=a[0].pSizeW,i.mmPsizeWK=a[0].pSizeWK),e.next=36,this.countCubage(t,i.mmCSizeW,i.mmCSizeL);case 36:r=e.sent,i.mmSArea=r.mmSArea,i.mmSCube=r.mmSCube,i.mmSWeight=r.mmSWeight,this.isloadingrenderForm=!1,this.$refs.renderForm.$refs.originListTalbe.insertAt(i,-1),o=this.$refs.renderForm.$refs.originListTalbe.getTableData().fullData,this.$refs.renderForm.$refs.originListTalbe.setCurrentRow(o[o.length-1]),this.rowIndex=o.length-1,this.row=o[o.length-1];case 46:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),countCubage:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,a,i){var r,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/mrp/proc/list/spMrpCalAreaCube",o={artCode:t[0].artCode,lbCode:t[0].lbCode,sizeW:a,sizeL:i,unitW:t[0].mmUnitIdW,unitL:t[0].mmUnitIdL},e.next=4,u["a"]["post"](r,o);case 4:return n=e.sent,e.abrupt("return",n.list[0]);case 6:case"end":return e.stop()}}),e)})));function t(t,a,i){return e.apply(this,arguments)}return t}(),countMmPsizeW:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="/mrp/proc/list/spPaperCOYieldList",i={custBorder:0,uint:"",paperlimite:0,coIsSsize:t[0].coIsSsize?1:0,coIsAsize:t[0].coIsAsize,coCustCode:t[0].custCode,coArtCode:t[0].artCode,coArtLB:t[0].lbCode,coCSizeW:t[0].mmCSizeW,coCSizeL:t[0].mmCSizeL,coUnitIdW:t[0].mmUnitIdWText,coUnitIdL:t[0].mmUnitIdLText,coQty:t[0].coQty,coPrepQty:t[0].coPrepQty,coPsizeL:t[0].coPsizeL,coPsizeLK:t[0].coPsizeLK,coSSizeW:t[0].mmSSizeW,coSumArtPrice:t[0].coSumArtPrice,YxNum:0,coYxStr:t[0].mmSizeYx},e.next=4,u["a"]["post"](a,i);case 4:return r=e.sent,e.abrupt("return",r.list[0]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),splitMmSizeYx:function(e,t){var a="";return e.forEach((function(e){""==a?a=e[t]:a+="*"+e[t]})),a},forCountValue:function(e,t){var a=0;return e.forEach((function(e){a+=Number(e[t])})),a},isRepeat:function(e,t){for(var a={},i=0;i<e.length;i++){if(0!=Object.keys(a).length&&!a[e[i][t]])return!0;a[e[i][t]]=!0}return!1},searchClickEvent:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isloading=!0,t="/mrp/proc/list/spPlanGetMergeMOData",e.next=4,u["a"]["post"](t,this.autoAccReceFormData);case 4:a=e.sent,0!=this.orderAll.length&&(a.list=Object(s["a"])(a.list).filter((function(e){return Object(s["a"])(i.orderAll).every((function(t){return t.mmiCoNo!==e.coNo}))}))),this.isloading=!1,this.orderList=a.list;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),popupChange_custCode:function(e){this.autoAccReceFormData.custCode=e.matchField.coCustCode},popupChange_artCode:function(e){this.autoAccReceFormData.artCode=e.matchField.artCode},popupChange_lbCode:function(e){this.autoAccReceFormData.lbCode=e.matchField.lbCode},selectChange_dataSource:function(e){this.autoAccReceFormData.mergeType=e.value},submitEvent:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,a,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$refs.renderForm.$refs.originListTalbe.getTableData().fullData,a="/mrp/paper/mergemo/saveOrUpdate",i={moDTOList:[]},t.forEach((function(e,a){delete t[a].id,i.moDTOList.push({master:e,slave:{addList:r.getTableArray(e.coNo,r.orderAll),defaultList:[],deleteList:[],updateList:[]}})})),e.next=6,u["a"]["post"](a,i);case 6:this.$emit("submitSuccess"),this.showPopupBox=!1,this.$XModal.message({message:"操作成功!",status:"success"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTableArray:function(e,t){var a=[];return t.forEach((function(t){e.includes(t.mmiCoNo)&&(delete t.id,a.push(t))})),a},getContentWindowWidthHeight:function(){var e=this;this.$nextTick((function(){e.windowOffsetHeight=0,e.windowOffsetWidth=0,clearTimeout(e.editPopupModalReSizeTimer),e.editPopupModalReSizeTimer=setTimeout((function(){var t=e.$refs["editBoxBodyContent"];if(t&&t.offsetHeight){var a=t.offsetHeight,i=t.offsetWidth;e.windowOffsetHeight=Number(a),e.windowOffsetWidth=Number(i)}}),300)}))}}},b=g,C=(a("4120"),a("63c1"),a("5d22")),w=Object(C["a"])(b,o,n,!1,null,"dbd77820",null),x=w.exports,v=a("79dc"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nvxe-modal",{attrs:{resize:"",remember:"",fullscreen:"",title:e.title,subTitle:e.subTitle,loading:e.vxeModalLoading,editSubmitBtn:!1},on:{confirm:function(t){return e.submitEvent()}},model:{value:e.showEditBox,callback:function(t){e.showEditBox=t},expression:"showEditBox"}},[a("div",{ref:"editBoxBodyContent",staticClass:"editBoxBodyContentDefaultHW"},[a("editBoxContentPartition",{attrs:{config:{windowOffsetHeight:e.windowOffsetHeight,windowOffsetWidth:e.windowOffsetWidth}},scopedSlots:e._u([{key:"part1",fn:function(){return[a("div",{staticStyle:{overflow:"auto"},style:{height:e.editBoxFormHeight+"px"}},[a("formItemRender",{ref:"renderForm",attrs:{showEditBox:e.showEditBox,formValueChangeRes:e.formValueChangeRes,firstFormRules:e.requiredRule[e.requstConfig.mainFormName],firstFormData:e.firstFormDataMaster,mainFormName:e.requstConfig.mainFormName,formItemList:e.formItemList},on:{formItemValueEvent:e.formItemValueEvent}})],1)]},proxy:!0},{key:"part2",fn:function(){return[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:e.selectTab,callback:function(t){e.selectTab=t},expression:"selectTab"}},[a("tabsTool",{attrs:{currentTab:e.selectTab},on:{tabsChange:e.tabsChange}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"tab1"==e.selectTab,expression:"selectTab == 'tab1'"}]},[a("nvxe-edit-grid",{ref:"firstTable",attrs:{isMainTable:!0,"edit-rules":e.requiredRule[e.requstConfig.tab1FormName],height:e.windowOffsetHeight-e.defaultBorderHeight-e.editBoxFormHeight-e.tabHeight,columnsFormName:e.requstConfig.tab1FormName,data:e.firstTableData}})],1)]},proxy:!0}])})],1)])},T=[],y=a("cb39"),S={mapList:{slave:"firstTable"}},F={name:"producewidth",mixins:[p["a"]],components:{formItemRender:y["a"],tabsTool:v["a"]},data:function(){return{editBoxFormHeight:250,requstConfig:{modulePreUrl:"/mrp/paper/mergemo",mainFormName:"planmergemoFm",tab1FormName:"planmergemo_itemFm"}}},methods:{closeWindowAction:function(){this.firstFormDataMaster=c()(this.formDefaultDataObj),this.setTableDefaultData(S,[])},setDefaultValue:function(e){e.master?(this.firstFormData=Object.assign({},S),this.firstFormDataMaster=c()(e.master),this.setTableDefaultData(S,e)):(this.firstFormData=Object.assign({},S),this.firstFormDataMaster=c()(e),this.setTableDefaultData(S,[]))}}},z=F,R=(a("31dc"),Object(C["a"])(z,D,T,!1,null,"3fd89b1c",null)),L=R.exports,k=a("1b62"),P=a("2ddf"),I=a("0e4a"),M={name:"mergemo",components:{editBox:L,tabsTool:v["a"],bodyContentDownItem:I["a"],sheillingModal:x},provide:function(){var e=this;return{getCenterBtnConfig:function(){return e.centerBtnConfig}}},data:function(){return{requstConfig:{modulePreUrl:"/mrp/paper/mergemo",mainFormName:"planmergemoFm",tab1FormName:"planmergemo_itemFm"},centerBtnConfig:{iisAdd:!1,iisEdit:!1}}},mixins:[k["a"],P["a"]],methods:{extBtnFunction:function(e){switch(e){case"merginBill":this.merginBill();break;default:break}},merginBill:function(){var e=this.$refs["paperCar"];e&&(e.showPopupBox=!0)}}},W=M,A=(a("b9c2"),Object(C["a"])(W,i,r,!1,null,"255f43ad",null));t["default"]=A.exports},4120:function(e,t,a){"use strict";a("e8b1")},"470f":function(e,t,a){},"63c1":function(e,t,a){"use strict";a("470f")},"79dc":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabsButtonListBox"},[a("div",{staticClass:"tabsButtonListItem leftItem"},[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[e._l(e.tabList,(function(t,i){return[a("vxe-radio-button",{key:i,staticClass:"borderRadio",attrs:{label:t.key,status:"my-purple",content:t.value},nativeOn:{click:function(a){return e.selectTabClick(t.key)}}})]}))],2)],1),a("div",{staticClass:"tabsButtonListItem rightItem"})])},r=[],o={props:{currentTab:{type:String,default:"tab1"}},data:function(){return{selectTab:"tab1"}},methods:{selectTabClick:function(e){this.selectTab=e,this.$emit("tabsChange",this.selectTab)}}},n=(a("5180"),{name:"tabs-formList",mixins:[o],props:{defaulttabList:{type:Array,default:function(){return[]}}},data:function(){return{tabList:[]}},mounted:function(){this.gettabList()},methods:{gettabList:function(){var e=this;if(0==this.defaulttabList.length){var t=[],a=this.$store.state.app.currentRouterName;if("sysFrom"!=a&&""!=a){var i=this.$store.state.app.tableColumnsInfo;if(i[a]){for(var r in i[a].listView)if("2"===i[a].listView[r].tableType){var o=i[a].listView[r].tableDesc,n=i[a].listView[r].formSort,s=i[a].listView[r].formSort;t.push({key:"tab"+n,value:o,formSort:s})}this.tabList=t.sort((function(e,t){return e.formSort-t.formSort}))}else setTimeout((function(){e.gettabList()}),300)}}else this.tabList=this.defaulttabList}}}),s=n,m=(a("e551"),a("5d22")),l=Object(m["a"])(s,i,r,!1,null,"19af0b3a",null);t["a"]=l.exports},b9c2:function(e,t,a){"use strict";a("f7ae")},c294:function(e,t,a){},e551:function(e,t,a){"use strict";a("0ee7")},e8b1:function(e,t,a){},f7ae:function(e,t,a){},fa24:function(e,t,a){}}]);