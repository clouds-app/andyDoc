(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14403513"],{"3e95":function(t,e,n){},"7e0f":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bodyContentBox"},[n("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[n("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[n("nvxe-grid",{ref:"mainTable",attrs:{isMainTable:!0,operationColumnShow:!0,loading:t.listLoading,height:t.windowOffsetHeight,columnsFormName:t.requstConfig.mainFormName,dataUrl:t.requstConfig.modulePreUrl+"/"+t.mainPageSearchType},scopedSlots:t._u([{key:"operate",fn:function(e){var o=e.row;return[n("div",{staticClass:"operationBox"},[n("div",{staticClass:"operationItem",on:{click:function(e){return t.operateBtnEmitRowEvent("viewPNGRowEvent",o)}}},[n("i",{staticClass:"el-icon-view"}),t._v(" "),n("span",[t._v("预览PNG")])]),n("div",{staticClass:"operationItem",on:{click:function(e){return t.operateBtnEmitRowEvent("mappingRowEvent",o)}}},[n("i",{staticClass:"el-icon-s-order"}),t._v(" "),n("span",[t._v("复制创建流程")])]),n("div",{staticClass:"operationItem",on:{click:function(e){return t.operateBtnEmitRowEvent("onoffProRowEvent",o)}}},[1==o.SUSPENSION_STATE_?[n("i",{staticClass:"el-icon-video-pause",staticStyle:{color:"red"}}),t._v(" "),n("span",[t._v("禁用")])]:[n("i",{staticClass:"el-icon-video-play",staticStyle:{color:"green"}}),t._v(" "),n("span",[t._v("启用")])]],2)])]}}])})]},proxy:!0}])})],1)])},i=[],a=(n("16ca"),n("c22d"),n("9b5f"),n("6860")),s=n("1b62"),r=n("2ddf"),c=n("0e4a"),l={name:"bpmnVersion",components:{bodyContentDownItem:c["a"]},data:function(){return{centerBtnConfig:{iisEnable:!1,iisAdd:!1,iisEdit:!1,iisDisabled:!1,iisAudit:!1,iisNotAudit:!1,iisPrint:!1},tableDataConfig:{operationColumn:[{showOverflow:!0,fixed:"right",slots:{default:"operate"},visible:!0,title:"操作",headerAlign:"center",align:"center",width:250}]},requstConfig:{modulePreUrl:"/bpmn/procdef",mainFormName:"actprocdefFm"}}},computed:{tableColumnsInfo:function(){return this.$store.getters.tableColumnsInfo_getter}},mixins:[s["a"],r["a"]],methods:{operateBtnEmitRowEvent:function(t,e){switch(t){case"viewPNGRowEvent":this.viewPNGRowEvent(e);break;case"viewXmlRowEvent":this.viewXmlRowEvent(e);break;case"mappingRowEvent":this.mappingRowEvent(e);break;case"downloadXmlRowEvent":this.downloadXmlRowEvent(e);break;case"onoffProRowEvent":this.onoffProRowEvent(e);break;default:break}},viewPNGRowEvent:function(t){var e=encodeURIComponent(t.RESOURCE_NAME_),n=new top.Dialog;n.Drag=!0,n.Title="预览PNG",n.URL="/static/activiti-editor/png_view.html?depId=".concat(t.ID_,"&&fileName=").concat(e),n.Width=1024,n.Height=768,n.Modal=!0,n.CancelEvent=function(){n.close()},n.show()},viewXmlRowEvent:function(t){var e=encodeURIComponent(t.RESOURCE_NAME_),n=new Dialog;n.Drag=!0,n.Width=1024,n.Height=768,n.Modal=!0,n.Title="预览XML",n.URL="/static/activiti-editor/xml_view.html?modelType=version&id=".concat(t.ID_,"&&fileName=").concat(e),n.Drag=!1,n.CancelEvent=function(){n.close()},n.show()},mappingRowEvent:function(t){var e=this,n="/bpmn/procdef/saveModelFromPro",o={proDefId:t.ID_};this.request.update(n,o).then((function(t){e.$XModal.alert("创建成功,请到流程设置中查看!"),e.search()}))},downloadXmlRowEvent:function(t){this.downLoadFile(t)},downLoadFile:function(t){var e=t.ID_+"",n="/bpmn/procdef/download";t.ID_;Object(a["b"])(n).then((function(t){Object(a["a"])(t,e)}))},onoffProRowEvent:function(t){var e=this,n="/bpmn/procdef/onoffPro",o={id:t.ID_,status:t.SUSPENSION_STATE_};this.request.update(n,o).then((function(t){e.search()}))},iisDelAction:function(){var t=this,e=this,n=this.currentSelectRowItem.row.DEPLOYMENT_ID_,o="".concat(this.requstConfig.modulePreUrl,"/delete?id=").concat(n),i={};this.$XModal.confirm({status:"warning",message:"确定要删除当前选中数据吗？"}).then((function(n){"confirm"===n&&t.request["update"](o,i).then((function(t){e.search()}))}))}}},d=l,f=(n("d8d0"),n("5d22")),u=Object(f["a"])(d,o,i,!1,null,"cce677a4",null);e["default"]=u.exports},d8d0:function(t,e,n){"use strict";n("3e95")}}]);