(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e037606"],{"0e4a":function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{class:"column"===t.flexDirection?"bodyContentDownBox-V":"bodyContentDownBox-H"},[t.$slots.part1?e("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part1",[t._v("part1")])],2):t._e(),t.$slots.part2?e("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part2",[t._v("part2")])],2):t._e(),t.$slots.part3?e("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part3",[t._v("part3")])],2):t._e()])},i=[],a={name:"bodyContentDownItem",props:{flexDirection:{type:String,default:"column"},config:{type:Object,default:function(){return{windowOffsetHeight:0,windowOffsetWidth:0}}}},data:function(){return{}},methods:{}},s=a,l=(e("33bc"),e("5d22")),r=Object(l["a"])(s,n,i,!1,null,"550d1612",null);o["a"]=r.exports},"22af":function(t,o,e){"use strict";e("2d8a")},"2d8a":function(t,o,e){},"33bc":function(t,o,e){"use strict";e("c294")},c294:function(t,o,e){},cbf1:function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"bodyContentBox"},[e("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[e("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[e("nvxe-grid",{ref:"mainTable",attrs:{isMainTable:!0,operationColumnShow:!0,loading:t.listLoading,height:t.windowOffsetHeight,columnsFormName:t.requstConfig.mainFormName,dataUrl:t.requstConfig.modulePreUrl+"/"+t.mainPageSearchType},scopedSlots:t._u([{key:"operate",fn:function(o){var n=o.row;return[e("div",{staticClass:"operationBox"},[e("div",{staticClass:"operationItem",on:{click:function(o){return t.operateBtnEmitRowEvent("handleRowEvent",n)}}},[e("i",{staticClass:"el-icon-chat-line-square"}),t._v(" "),e("span",[t._v("办理")])])])]}}])})]},proxy:!0}])})],1),e("nvxe-modal",{attrs:{title:"委派对象",subTitle:"",showZoom:!1,width:350,height:180,loading:!1},on:{confirm:function(o){return t.submitAppointEvent()}},model:{value:t.showAppointBox,callback:function(o){t.showAppointBox=o},expression:"showAppointBox"}},[e("div",{staticClass:"appointSomeoneBox"},[e("div",{staticClass:"appointSomeoneItem oneItem"},[e("popUpPullDown",{ref:"popUpPullDownRef",attrs:{returnSelectedRow:!0,placeholder:"委派对象",disabled:!0,size:"medium",matchField:t.popUpPullDownConfig.editRender.matchField,currentValue:t.appointSomeoneValue,field:t.popUpPullDownConfig.field,paramsItem:t.popUpPullDownConfig},on:{popupChange:t.popupChange}})],1),e("div",{staticClass:"appointSomeoneItem twoItem"},[e("vxe-button",{attrs:{content:"用户"},on:{click:function(o){return t.loadUserData()}}})],1),e("div",{staticClass:"appointSomeoneItem threeItem"},[e("vxe-button",{attrs:{content:"角色"},on:{click:function(o){return t.loadRoleData()}}})],1)])]),e("nvxe-modal",{attrs:{title:"办理任务",subTitle:"",resize:"",remember:"",fullscreen:"",loading:t.loadingFlow,hideSubmitBtn:!0,showFooter:!1},model:{value:t.showFlowInfoBox,callback:function(o){t.showFlowInfoBox=o},expression:"showFlowInfoBox"}},[e("div",[e("vxe-radio-group",{model:{value:t.flowInfoType,callback:function(o){t.flowInfoType=o},expression:"flowInfoType"}},[e("vxe-radio-button",{attrs:{label:"1",content:"申请详情"}}),e("vxe-radio-button",{attrs:{label:"2",content:"审批流程"}}),e("vxe-radio-button",{attrs:{label:"3",content:"流程图"}})],1),e("div",{staticClass:"flowInfoTypeBox"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.flowInfoType,expression:"flowInfoType == '1'"}],staticClass:"flowInfoTypeItem"},[e("flowInfoBox",{attrs:{currentSelectRowItem:t.currentSelectRowItem,showApproval:!0,dataList:t.resDataList,showFlowInfoBox:t.showFlowInfoBox},on:{submitSuccess:t.submitFlowSuccess}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"2"==t.flowInfoType,expression:"flowInfoType == '2'"}],staticClass:"flowInfoTypeItem"},[e("nvxe-grid",{ref:"applicationItems",attrs:{"sync-resize":t.flowInfoType,toolbarConfigShow:!1,height:360,columnsFormName:"actprochiinfoFm"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"3"==t.flowInfoType,expression:"flowInfoType == '3'"}],staticClass:"flowInfoTypeItem",staticStyle:{height:"350px",overflow:"auto"}},[t.base64ImgStr?e("img",{attrs:{src:t.base64ImgStr,alt:"图片未上传"}}):t._e()])])],1)])],1)},i=[],a=(e("c22d"),e("9b5f"),e("5213")),s=e("1b62"),l=e("2ddf"),r=(e("cb39"),e("0e4a")),p={name:"workWait",components:{bodyContentDownItem:r["a"],flowInfoBox:a["a"]},provide:function(){var t=this;return{getPopupConfig:function(){return t.popupConfig}}},data:function(){return{resDataList:[],customForm:{applItems:"",applUserName:"",applTime:"",userCode:""},showTabFlowDetail:!1,defautlFormName:"",tabFlowDetail:"tab1",tabList:[],formItemList:[],mainFormInitData:{},resTableDataList:{},columnDataList:[],loadingFlow:!1,approvalProcessValue:"",base64ImgStr:"",popupConfig:{},flowInfoType:"1",showFlowInfoBox:!1,popUpPullDownConfig:{field:"appointSomeoneValue",editRender:{defaultText:"",defaultValue:"",matchField:"appointSomeoneValue",name:"popup",sourceKey:"bpmnActInstUserBox"}},loadDataType:"user",appointSomeoneValue:"",showAppointBox:!1,centerBtnConfig:{iisEnable:!1,iisAdd:!1,iisEdit:!1,iisDel:!1,iisDisabled:!1,iisAudit:!1,iisNotAudit:!1,iisPrint:!1},tableDataConfig:{operationColumn:[{showOverflow:!0,fixed:"right",slots:{default:"operate"},visible:!0,title:"操作",headerAlign:"center",align:"center",width:70}]},requstConfig:{modulePreUrl:"/bpmn/rutask",mainFormName:"actrutaskFm"}}},computed:{tableColumnsInfo:function(){return this.$store.getters.tableColumnsInfo_getter}},watch:{showFlowInfoBox:function(t,o){t||(this.approvalProcessValue="",this.formItemList=[],this.mainFormInitData={},this.showTabFlowDetail=!1)},showAppointBox:function(t,o){t||(this.appointSomeoneValue="")}},mixins:[s["a"],l["a"]],methods:{submitFlowSuccess:function(){this.showFlowInfoBox=!1,this.search()},popupChange:function(t){"user"==this.loadDataType?this.appointSomeoneValue=t.row.userCode:this.appointSomeoneValue=t.row.roleName},loadUserData:function(){this.loadDataType="user",this.popUpPullDownConfig.editRender.sourceKey="bpmnActInstUserBox";var t=this.$refs["popUpPullDownRef"];t&&t.inputFocusEvent()},loadRoleData:function(){this.loadDataType="role",this.popUpPullDownConfig.editRender.sourceKey="bpmnActInstRoleBox";var t=this.$refs["popUpPullDownRef"];t&&t.inputFocusEvent()},operateBtnEmitRowEvent:function(t,o){switch(t){case"appointRowEvent":this.appointRowEvent(o);break;case"handleRowEvent":this.handleRowEvent(o);break;default:break}},submitAppointEvent:function(){var t=this;if(""!=this.appointSomeoneValue){var o="/bpmn/ruprocdef/delegate",e={id:this.currentSelectRowItem.row.ID_,assignee:this.appointSomeoneValue};this.request.update(o,e).then((function(o){t.showAppointBox=!1,t.search()}))}else this.$XModal.message({message:"请选择委派对象！",status:"error"})},appointRowEvent:function(t){this.showAppointBox=!0},handleRowEvent:function(t){var o=this;this.showFlowInfoBox=!0,this.loadingFlow=!0;var e="/bpmn/rutask/getHandleData",n={procInstId:t.PROC_INST_ID_,fileName:t.DGRM_RESOURCE_NAME_};this.request.post(e,n).then((function(t){o.loadingFlow=!1,o.base64ImgStr=t.imgSrc;var e=o.$refs["applicationItems"].$refs["originListTalbe"];e&&e.reloadData(t.hitaskList),o.resDataList=t.varList}))},iisDelAction:function(){var t=this,o=this,e=this.currentSelectRowItem.row.PROC_INST_ID_,n="/bpmn/ruprocdef/delete",i={procInstId:e,reason:this.approvalProcessValue};this.$XModal.confirm({status:"warning",message:"确定要作废当前选中数据吗？"}).then((function(e){"confirm"===e&&t.request["update"](n,i).then((function(t){o.showFlowInfoBox=!1,o.search()}))}))}}},u=p,c=(e("22af"),e("5d22")),f=Object(c["a"])(u,n,i,!1,null,"3599c98c",null);o["default"]=f.exports}}]);