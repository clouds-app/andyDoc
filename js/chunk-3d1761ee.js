(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d1761ee"],{"2d9a":function(t,e,n){},"31b8":function(t,e,n){"use strict";n("2d9a")},"47cf":function(t,e,n){"use strict";n("70ad")},"4d95":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bodyContentBox"},[n("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[n("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[n("nvxe-grid",{ref:"mainTable",attrs:{operationColumnShow:!0,loading:t.listLoading,toolbarConfigShow:!0,isMainTable:!0,height:t.windowOffsetHeight,columnsFormName:t.requstConfig.mainFormName,dataUrl:t.requstConfig.modulePreUrl+"/"+t.mainPageSearchType},on:{operateBtnEmitRowEvent:t.operateBtnEmitRowEvent}})]},proxy:!0}])})],1),n("editBox",{ref:"editBox",on:{submitSuccess:t.submitSuccess}})],1)},o=[],a=(n("16ca"),n("c22d"),n("9b5f"),n("6860")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nvxe-modal",{attrs:{title:t.title,subTitle:t.subTitle,loading:t.vxeModalLoading},on:{confirm:function(e){return t.submitEvent()}},model:{value:t.showEditBox,callback:function(e){t.showEditBox=e},expression:"showEditBox"}},[n("div",{ref:"editBoxBodyContent",staticClass:"editBoxBodyContentDefaultHW"},[n("editBoxContentPartition",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[n("formItemRender",{ref:"renderForm",attrs:{formValueChangeRes:t.formValueChangeRes,showEditBox:t.showEditBox,firstFormRules:t.requiredRule[t.requstConfig.mainFormName],firstFormData:t.firstFormData,formItemList:t.formItemList,mainFormName:t.requstConfig.mainFormName},on:{formItemValueEvent:t.formItemValueEvent}})]},proxy:!0}])})],1)])},r=[],c=n("5180"),m=n.n(c),d=n("cb39"),l=n("bf8c"),u={name:"edit-report",mixins:[l["a"]],components:{formItemRender:d["a"]},data:function(){return{requstConfig:{modulePreUrl:"/bpmn/actmodel",mainFormName:"actmodelFm"}}},watch:{showEditBox:function(t,e){this.resetDetailId()}},methods:{resetDetailId:function(){this.currentSelectRowItem.rowid=this.currentSelectRowItem.row.ID_},closeWindowAction:function(){this.firstFormData=m()(this.formDefaultDataObj)},setDefaultValue:function(t){this.firstFormData=m()(t)},submitEvent:function(){this.submitSingleTableEvent()}},created:function(){}},f=u,h=(n("47cf"),n("5d22")),w=Object(h["a"])(f,s,r,!1,null,"25c34af6",null),v=w.exports,b=n("1b62"),g=n("2ddf"),p=n("0e4a"),x=n("c276"),E=n("6b6c"),D={name:"bpmnManage",components:{editBox:v,bodyContentDownItem:p["a"]},data:function(){return{centerBtnConfig:{iisEnable:!1,iisDisabled:!1,iisAudit:!1,iisNotAudit:!1,iisPrint:!1},requstConfig:{modulePreUrl:"/bpmn/actmodel",mainFormName:"actmodelFm"},showEditActivitBox:!1,src_activiti:"",modelId:1,apiUrl:"",maxHeight:768,maxWidth:1024}},computed:{token:function(){return Object(x["a"])()},currentSelectRowItem:function(){return this.$store.state.app.currentSelectRowItem}},mixins:[b["a"],g["a"]],mounted:function(){window.getMyVue=this,this.getWindowMaxHW()},methods:{operateBtnEmitRowEvent:function(t){var e=t.eventName,n=t.row;switch(e){case"flowDesignRowEvent":this.flowDesignRowEvent(n);break;case"setXmlRowEvent":this.setXmlRowEvent(n);break;case"viewXmlRowEvent":this.viewXmlRowEvent(n);break;case"exportXmlRowEvent":this.exportXmlRowEvent(n);break;default:break}},flowDesignRowEvent:function(t){this.src_activiti="/static/activiti-editor/modeler.html?modelId="+t.ID_,this.showEditActivitBox=!0;var e=new Dialog;e.Width=this.maxWidth,e.Height=this.maxHeight,e.Modal=!0,e.Title="流程设计器",e.URL=this.src_activiti,e.Drag=!1,e.show()},setXmlRowEvent:function(t){var e=this,n="/bpmn/actmodel/deployment/".concat(t.ID_),i={};this.request.update(n,i).then((function(t){e.$XModal.alert("部署成功,请到流程版本中查看!")}))},viewXmlRowEvent:function(t){var e="/bpmn/actmodel/isCanexportXml/".concat(t.ID_),n={};this.request.update(e,n).then((function(e){var n=new Dialog;n.Width=1024,n.Height=768,n.Modal=!0,n.Title="预览",n.URL="/static/activiti-editor/xml_view.html?modelId=".concat(t.ID_),n.Drag=!1,n.show()}))},exportXmlRowEvent:function(t){var e=this,n="/bpmn/actmodel/isCanexportXml/".concat(t.ID_),i={};this.request.post(n,i).then((function(n){e.downLoadFile(t)}))},downLoadFile:function(t){var e=t.ID_+".xml",n="/bserp/bpmn/actmodel/exportXml/".concat(t.ID_);Object(a["b"])(n).then((function(t){Object(a["a"])(t,e)}))},getWindowMaxHW:function(){this.maxHeight=document.documentElement.clientHeight,this.maxWidth=document.documentElement.clientWidth},submitEvent:function(){},iisDelAction:function(){var t=this,e=this.currentSelectRowItem.row.ID_,n="".concat(this.requstConfig.modulePreUrl,"/delete?id=").concat(e),i={};this.$XModal.confirm({status:"warning",message:"确定要删除当前选中数据吗？"}).then((function(e){"confirm"===e&&E["a"]["update"](n,i).then((function(e){t.search()}))}))}}},I=D,R=(n("31b8"),Object(h["a"])(I,i,o,!1,null,"7c08fa92",null));e["default"]=R.exports},"70ad":function(t,e,n){}}]);