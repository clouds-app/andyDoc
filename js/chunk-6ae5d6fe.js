(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ae5d6fe"],{"0e4a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"column"===t.flexDirection?"bodyContentDownBox-V":"bodyContentDownBox-H"},[t.$slots.part1?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part1",[t._v("part1")])],2):t._e(),t.$slots.part2?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part2",[t._v("part2")])],2):t._e(),t.$slots.part3?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part3",[t._v("part3")])],2):t._e()])},n=[],o={name:"bodyContentDownItem",props:{flexDirection:{type:String,default:"column"},config:{type:Object,default:function(){return{windowOffsetHeight:0,windowOffsetWidth:0}}}},data:function(){return{}},methods:{}},s=o,r=(a("33bc"),a("5d22")),l=Object(r["a"])(s,i,n,!1,null,"550d1612",null);e["a"]=l.exports},"33bc":function(t,e,a){"use strict";a("c294")},a225:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bodyContentBox"},[a("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[a("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part1",fn:function(){return[a("nvxe-grid",{ref:"mainTable",attrs:{toolbarConfigShow:!1,loading:t.searchLoading,height:.2*t.windowOffsetHeight,isCacheColumnsByName:!0,columnsFormName:t.requstConfig.mainFormName}})]},proxy:!0},{key:"part2",fn:function(){return[a("div",{staticClass:"contentTabBox"},[a("div",{staticClass:"contentTabItem"},[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[t._l(t.tabList,(function(e,i){return[a("vxe-radio-button",{key:i,attrs:{label:"tab"+(i+1),content:e.lineName},nativeOn:{click:function(a){return t.changeSelect(e.lineCode)}}})]}))],2)],1),a("div",{staticClass:"contentTabItem"},[a("div",{staticClass:"contentSearchBox"},[a("div",{staticClass:"contentSearchItem"},[a("span",{staticStyle:{"font-size":"14px"}},[t._v("交货日期")])]),a("div",{staticClass:"contentSearchItem"},[a("vxe-input",{attrs:{transfer:"",size:"mini",placeholder:"日期选择",type:"date"},model:{value:t.deliveryDate,callback:function(e){t.deliveryDate=e},expression:"deliveryDate"}})],1),a("div",{staticClass:"contentSearchItem"},[a("vxe-button",{attrs:{size:"mini",status:"success",content:"刷新"},on:{click:function(e){return t.refreshData()}}})],1)])])]),a("div",{staticClass:"contentBox",style:{height:t.rowTwoHeight+"px"}},[a("div",{staticClass:"contentItem leftItem"},[a("div",{staticClass:"subContentBox"},[a("div",{staticClass:"subCotentItem upItem"},[a("nvxe-grid",{ref:"firstTable",attrs:{isCacheColumnsByName:!0,toolbarConfigShow:!1,loading:t.searchLoading,height:.6*t.rowTwoHeight,columnsFormName:t.requstConfig.tab2FormName},on:{"current-change":t.currentChange_firstTable}})],1),a("div",{staticClass:"subCotentItem downItem"},[a("nvxe-grid",{ref:"secondTable",attrs:{isCacheColumnsByName:!0,toolbarConfigShow:!1,loading:t.searchLoading,height:.4*t.rowTwoHeight,columnsFormName:t.requstConfig.tab4FormName}})],1)])]),a("div",{staticClass:"contentItem rightItem"},[a("div",{staticClass:"subContentBox"},[a("div",{staticClass:"subCotentItem oneItem"},[a("nvxe-grid",{ref:"thirdTable",attrs:{isCacheColumnsByName:!0,toolbarConfigShow:!1,loading:t.searchLoading,height:.567*t.rowTwoHeight,columnsFormName:t.requstConfig.tab3FormName}})],1),a("div",{staticClass:"subCotentItem twoItem"},[a("nvxe-grid",{ref:"fourthTable",attrs:{isCacheColumnsByName:!0,toolbarConfigShow:!1,loading:t.searchLoading,height:.433*t.rowTwoHeight,columnsFormName:t.requstConfig.tab5FormName},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"textOrder"},[t._v("不能生产的订单")])]},proxy:!0}])})],1)])])])]},proxy:!0}])})],1)])},n=[],o=(a("e3b5"),a("1472")),s=a.n(o),r=a("1b62"),l=a("2ddf"),c=a("0e4a"),d={name:"planpreproduct",components:{bodyContentDownItem:c["a"]},data:function(){return{searchLoading:!1,deliveryDate:s()().format("YYYY-MM-DD"),requstConfig:{modulePreUrl:"/mrp/paper/planprod",mainFormName:"planpreproductlineFm",tab2FormName:"planpreproductdatatwoFm",tab3FormName:"planpreproductdatathreeFm",tab4FormName:"planpreproductdatafourFm",tab5FormName:"planpreproductdatafiveFm"},resOriginDataList:[],selectedLineCode:"",currentTab:"tab1",tabList:[],firstTableSelectedRow:{}}},computed:{rowTwoHeight:function(){return.8*(this.windowOffsetHeight-36)}},mixins:[r["a"],l["a"]],methods:{getTableRefObjByName:function(t){var e=this.$refs[t].$refs["originListTalbe"];return e},spPlanPreGetLineInfo:function(){var t=this,e="/mrp/proc/list/spPlanPreGetLineInfo",a={deliveryDate:this.deliveryDate};this.request["post"](e,a).then((function(e){e&&e.list&&e.list.length>0&&t.getTableRefObjByName("mainTable").loadData(e.list[0])}))},changeSelect:function(t){this.selectedLineCode=t,this.setFirstTableData()},refreshData:function(){var t=this;this.searchLoading=!0,clearTimeout(this.refreshTime),this.refreshTime=setTimeout((function(){t.spPlanPreGetLineInfo(),t.spPlanPreGetProductData(),t.searchLoading=!1}),300)},filterDataByLineCode:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=t.filter((function(t){return a?t.lineCode==e.selectedLineCode&&t.coPsizeW==a:t.lineCode==e.selectedLineCode})),t},setTableData:function(){this.getTableRefObjByName("secondTable").loadData(this.filterDataByLineCode(this.resOriginDataList.list[3],this.firstTableSelectedRow.coPsizeW)),this.getTableRefObjByName("thirdTable").loadData(this.filterDataByLineCode(this.resOriginDataList.list[2],this.firstTableSelectedRow.coPsizeW))},currentChange_firstTable:function(t){var e=this;this.firstTableSelectedRow=t.row,setTimeout((function(){e.setTableData()}),100)},setFirstTableData:function(){var t=this,e=this.filterDataByLineCode(this.resOriginDataList.list[1]);if(e&&e.length>0){var a=e[0];this.firstTableSelectedRow=a;var i=this.getTableRefObjByName("firstTable");i.loadData(e),i.setCurrentRow(a),setTimeout((function(){t.setTableData()}),100)}},spPlanPreGetProductData:function(){var t=this,e="/mrp/proc/list/spPlanPreGetProductData",a={deliveryDate:this.deliveryDate};this.request["post"](e,a).then((function(e){e&&e.list&&e.list.length>0&&(t.resOriginDataList=e,t.tabList=e.list[0],t.selectedLineCode=t.tabList[0].lineCode,t.$nextTick((function(){t.setFirstTableData(),t.getTableRefObjByName("fourthTable").loadData(t.resOriginDataList.list[4])})))}))}},mounted:function(){var t=this;setTimeout((function(){t.spPlanPreGetLineInfo(),t.spPlanPreGetProductData()}),300)}},f=d,u=(a("e3f8"),a("5d22")),m=Object(u["a"])(f,i,n,!1,null,"8be880b4",null);e["default"]=m.exports},af09:function(t,e,a){},c294:function(t,e,a){},e3f8:function(t,e,a){"use strict";a("af09")}}]);