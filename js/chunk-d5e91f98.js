(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5e91f98"],{"0e4a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"column"===t.flexDirection?"bodyContentDownBox-V":"bodyContentDownBox-H"},[t.$slots.part1?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part1",[t._v("part1")])],2):t._e(),t.$slots.part2?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part2",[t._v("part2")])],2):t._e(),t.$slots.part3?a("div",{staticClass:"bodyContentDownItem",style:{width:t.config.windowOffsetWidth+"px"}},[t._t("part3",[t._v("part3")])],2):t._e()])},n=[],o={name:"bodyContentDownItem",props:{flexDirection:{type:String,default:"column"},config:{type:Object,default:function(){return{windowOffsetHeight:0,windowOffsetWidth:0}}}},data:function(){return{}},methods:{}},r=o,s=(a("33bc"),a("5d22")),l=Object(s["a"])(r,i,n,!1,null,"550d1612",null);e["a"]=l.exports},"0ee7":function(t,e,a){},"33bc":function(t,e,a){"use strict";a("c294")},"4e4d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nvxe-pager",{attrs:{align:"left",size:"small","current-page":t.pageConfig.currentPage,"page-size":t.pageConfig.pageSize,total:t.pageConfig.totalResult,layouts:["PrevPage","Jump","PageCount","NextPage"]},on:{"update:currentPage":function(e){return t.$set(t.pageConfig,"currentPage",e)},"update:current-page":function(e){return t.$set(t.pageConfig,"currentPage",e)},"update:pageSize":function(e){return t.$set(t.pageConfig,"pageSize",e)},"update:page-size":function(e){return t.$set(t.pageConfig,"pageSize",e)},"page-change":t.pageChange}})},n=[],o={data:function(){return{}},props:{pageConfig:{type:Object,default:function(){return{}}}},methods:{initPageConfig:function(){},pageChange:function(t){this.$emit("pageChange",{pageSize:t.pageSize,pageNumber:t.currentPage})}}},r=o,s=a("5d22"),l=Object(s["a"])(r,i,n,!1,null,null,null);e["a"]=l.exports},"50b3":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return n})),a.d(e,"i",(function(){return o})),a.d(e,"j",(function(){return r})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return l})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return c})),a.d(e,"g",(function(){return u})),a.d(e,"h",(function(){return f}));var i={align:"left",cellRender:null,children:[],editRender:{defaultText:"",defaultValue:"",matchField:"spaperName,spaperCode",name:"popup",sourceKey:"spaperInfoSingleBox"},field:"spaperCode",fieldOrder:65,formatter:"",headerAlign:"center",iisMoney:!1,labelWidth:80,query:!0,readOnly:!0,sortable:!1,title:"原纸类型",titleGroup:"",virtual:!0,visible:!0,width:12},n={matchField:"spaperName:spaperName,spaperCode:spaperCode"},o={align:"left",cellRender:null,children:[],editRender:{defaultText:"",defaultValue:"",matchField:"vendCode:vendCode",name:"popup",sourceKey:"vendBox"},field:"vendCode",fieldOrder:65,formatter:"",headerAlign:"center",iisMoney:!1,labelWidth:80,query:!0,readOnly:!0,sortable:!1,title:"供应商",titleGroup:"",virtual:!0,visible:!0,width:12},r={matchField:"vendCode:vendCode,shortName:shortName"},s={align:"left",cellRender:null,children:[],editRender:{defaultText:"",defaultValue:"",matchField:"stationCode:stationCode",name:"popup",sourceKey:"stationSmallSingleBox"},field:"stationCode",fieldOrder:65,formatter:"",headerAlign:"center",iisMoney:!1,labelWidth:80,query:!0,readOnly:!0,sortable:!1,title:"仓位",titleGroup:"",virtual:!0,visible:!0,width:12},l={matchField:"stationCode:stationCode,stationCodeName:stationCodeName"},d={align:"left",cellRender:null,children:[],editRender:{defaultText:"",defaultValue:"",matchField:"stationCode:stationCode",name:"popup",sourceKey:"lineSingleBox"},field:"lineCode",fieldOrder:65,formatter:"",headerAlign:"center",iisMoney:!1,labelWidth:80,query:!0,readOnly:!0,sortable:!1,title:"仓位",titleGroup:"",virtual:!0,visible:!0,width:12},c={matchField:"lineCode:lineCode,lineName:lineName"},u={align:"left",cellRender:null,children:[],editRender:{defaultText:"",defaultValue:"",matchField:"stationCode:stationCode",name:"popup",sourceKey:"teamSingleBox"},field:"teamCode",fieldOrder:65,formatter:"",headerAlign:"center",iisMoney:!1,labelWidth:80,query:!0,readOnly:!0,sortable:!1,title:"仓位",titleGroup:"",virtual:!0,visible:!0,width:12},f={matchField:"teamCode:teamCode,teamName:teamName"}},"79dc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabsButtonListBox"},[a("div",{staticClass:"tabsButtonListItem leftItem"},[a("vxe-radio-group",{attrs:{size:"mini"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[t._l(t.tabList,(function(e,i){return[a("vxe-radio-button",{key:i,staticClass:"borderRadio",attrs:{label:e.key,status:"my-purple",content:e.value},nativeOn:{click:function(a){return t.selectTabClick(e.key)}}})]}))],2)],1),a("div",{staticClass:"tabsButtonListItem rightItem"})])},n=[],o={props:{currentTab:{type:String,default:"tab1"}},data:function(){return{selectTab:"tab1"}},methods:{selectTabClick:function(t){this.selectTab=t,this.$emit("tabsChange",this.selectTab)}}},r=(a("5180"),{name:"tabs-formList",mixins:[o],props:{defaulttabList:{type:Array,default:function(){return[]}}},data:function(){return{tabList:[]}},mounted:function(){this.gettabList()},methods:{gettabList:function(){var t=this;if(0==this.defaulttabList.length){var e=[],a=this.$store.state.app.currentRouterName;if("sysFrom"!=a&&""!=a){var i=this.$store.state.app.tableColumnsInfo;if(i[a]){for(var n in i[a].listView)if("2"===i[a].listView[n].tableType){var o=i[a].listView[n].tableDesc,r=i[a].listView[n].formSort,s=i[a].listView[n].formSort;e.push({key:"tab"+r,value:o,formSort:s})}this.tabList=e.sort((function(t,e){return t.formSort-e.formSort}))}else setTimeout((function(){t.gettabList()}),300)}}else this.tabList=this.defaulttabList}}}),s=r,l=(a("e551"),a("5d22")),d=Object(l["a"])(s,i,n,!1,null,"19af0b3a",null);e["a"]=d.exports},"7b7a":function(t,e,a){},b80e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bodyContentBox"},[a("div",{ref:"refBodyContent",staticClass:"bodyContentItem lastItem"},[a("div",{staticClass:"search"},[a("span",{staticClass:"searchCriteria"},[t._v("搜索条件")]),a("vxe-form",{staticStyle:{"background-color":"#f2f5f7"},attrs:{data:t.formData,"title-width":"90",size:"mini","title-align":"right",span:"24"}},[a("vxe-form-item",{staticClass:"paddingNone",attrs:{title:"查询日期",field:"formData.startDate",span:"5","title-width":"60"}},[a("vxe-input",{attrs:{size:"mini",type:"datetime",placeholder:"请选择日期",clearable:""},on:{change:t.updateStatus},model:{value:t.formData.startDate,callback:function(e){t.$set(t.formData,"startDate",e)},expression:"formData.startDate"}})],1),a("vxe-form-item",{staticClass:"paddingNone",attrs:{title:" 到",field:"formData.endDate",span:"4","title-width":"20"}},[a("vxe-input",{attrs:{size:"mini",type:"datetime",placeholder:"请选择日期",clearable:""},on:{change:t.updateStatus},model:{value:t.formData.endDate,callback:function(e){t.$set(t.formData,"endDate",e)},expression:"formData.endDate"}})],1),a("vxe-form-item",{staticClass:"paddingNone formButtomList",attrs:{title:"",field:"",span:"4","title-width":"10"}},[a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:"<<"},on:{click:function(e){return t.ubtractDate("day")}}}),a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:"本日"},on:{click:function(e){return t.ChangeDate("day")}}}),a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:">>"},on:{click:function(e){return t.addDate("day")}}})],1),a("vxe-form-item",{staticClass:"paddingNone formButtomList",attrs:{title:"",field:"",span:"3","title-width":"10"}},[a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:"<<"},on:{click:function(e){return t.ubtractDate("week")}}}),a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:"本周"},on:{click:function(e){return t.ChangeDate("week")}}}),a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:">>"},on:{click:function(e){return t.addDate("week")}}})],1),a("vxe-form-item",{staticClass:"paddingNone formButtomList",attrs:{title:"",field:"",span:"3","title-width":"10"}},[a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:"<<"},on:{click:function(e){return t.ubtractDate("month")}}}),a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:"本月"},on:{click:function(e){return t.ChangeDate("month")}}}),a("vxe-button",{staticClass:"formButtom",attrs:{size:"mini",content:">>"},on:{click:function(e){return t.addDate("month")}}})],1)],1),a("vxe-button",{staticClass:"btn-t",attrs:{type:"submit",status:"primary"},on:{click:t.searchTableData}},[t._v("搜索")])],1),a("div",{staticClass:"screening"},[a("span",{staticClass:"title-b"},[t._v("筛选条件")]),a("vxe-form",{staticStyle:{"background-color":"#f2f5f7"},attrs:{data:t.formData,"title-width":"90",size:"mini","title-align":"right",span:"24"}},[a("vxe-form-item",{staticClass:"paddingNone",attrs:{title:"原纸代号",field:"formData.spaperCode",span:"3","title-width":"60"}},[a("popUpPullDown",{attrs:{disabled:!1,matchField:t.paperTypeRender.matchField,currentValue:t.popupName.spaperName,field:"spaperCode",paramsItem:t.paperTypeItem},on:{popupChange:t.popupChange}})],1),a("vxe-form-item",{staticClass:"paddingNone",attrs:{title:"克重",field:"formData.spaperGram ",span:"3","title-width":"60"}},[a("vxe-input",{attrs:{controls:!1,type:"number",disabled:!1},model:{value:t.formData.spaperGram,callback:function(e){t.$set(t.formData,"spaperGram",e)},expression:"formData.spaperGram"}})],1),a("vxe-form-item",{staticClass:"paddingNone",attrs:{title:"供应商",field:"formData.vendCode",span:"3","title-width":"60"}},[a("popUpPullDown",{attrs:{disabled:!1,matchField:t.vendCodeTypeRender.matchField,currentValue:t.popupName.vendName,field:"vendCode",paramsItem:t.vendCodeTypeItem},on:{popupChange:t.popupChange}})],1),a("vxe-form-item",{staticClass:"paddingNone",attrs:{title:"仓位",field:"formData.stationCode",span:"3","title-width":"60"}},[a("popUpPullDown",{attrs:{disabled:!1,matchField:t.shippingTypeRender.matchField,currentValue:t.popupName.stationName,field:"stationCode",paramsItem:t.shippingTypeItem},on:{popupChange:t.popupChange}})],1),a("vxe-form-item",{staticClass:"paddingNone checkboxTitle",attrs:{title:"卷数",field:"formData.orderType",span:"2","title-width":"80"}},[a("vxe-checkbox",{attrs:{size:"mini"},on:{change:function(e){return t.checkboxChange(e)}},model:{value:t.formData.iisQtyGroup,callback:function(e){t.$set(t.formData,"iisQtyGroup",e)},expression:"formData.iisQtyGroup"}})],1),a("vxe-form-item",{staticClass:"paddingNone checkboxTitle",attrs:{title:"重量",field:"formData.orderType",span:"2","title-width":"62"}},[a("vxe-checkbox",{attrs:{size:"mini"},on:{change:function(e){return t.checkboxChange(e)}},model:{value:t.formData.iisWtGroup,callback:function(e){t.$set(t.formData,"iisWtGroup",e)},expression:"formData.iisWtGroup"}})],1),a("vxe-form-item",{staticClass:"paddingNone checkboxTitle",attrs:{title:"金额",field:"formData.orderType",span:"2","title-width":"62"}},[a("vxe-checkbox",{attrs:{size:"mini"},on:{change:function(e){return t.checkboxChange(e)}},model:{value:t.formData.iisAmtGroup,callback:function(e){t.$set(t.formData,"iisAmtGroup",e)},expression:"formData.iisAmtGroup"}})],1)],1),a("vxe-button",{staticClass:"btn-b",attrs:{type:"submit",status:"primary"},on:{click:t.clear}},[t._v("清除条件")])],1)]),a("div",[a("bodyContentDownItem",{attrs:{config:{windowOffsetHeight:t.windowOffsetHeight,windowOffsetWidth:t.windowOffsetWidth}},scopedSlots:t._u([{key:"part2",fn:function(){return[a("pageConfig",{staticClass:"pager",attrs:{pageConfig:t.pageConfig},on:{pageChange:t.pageChange}}),a("commonn",{attrs:{currentTab:t.selectTab,defaulttabList:t.defaulttabList},on:{tabsChange:t.tabsChange}}),a("div",{staticStyle:{height:"5px"}}),a("nvxe-grid",{ref:"firstTable",attrs:{isMainTable:!1,loading:t.loading,toolbarConfigShow:!1,height:3.8*t.windowOffsetHeight,data:t.data,columns:t.columns}})]},proxy:!0}])})],1)])},n=[],o=a("58c8"),r=a("6abc"),s=(a("24a8"),a("62f9"),a("3bae"),a("16ca"),a("4e4d")),l=a("79dc"),d=a("50b3"),c=a("1472"),u=a.n(c),f=a("5180"),m=a.n(f),p=a("cb39"),h=a("6b6c"),b=a("bf8c"),g=a("2ddf"),D=a("0e4a"),C=void 0,v={startDate:u()().startOf("month").format("YYYY-MM-DD 00:00:00"),endDate:u()().format("YYYY-MM-DD 23:59:59"),spaperCode:"",spaperGram:0,vendCode:"",stationCode:"",iisQtyGroup:!0,iisWtGroup:!1,iisAmtGroup:!1,queryMode:"1",iisBasic:0,total:0},y={name:"paperrk",mixins:[b["a"],g["a"]],components:{formItemRender:p["a"],bodyContentDownItem:D["a"],commonn:l["a"],pageConfig:s["a"]},provide:function(){var t=this;return{getPopupModalConfig:function(){return t.popupModalConfig}}},getPopupConfig:function(){return C.popupConfig},data:function(){return{popupName:{spaperName:"",vendName:"",stationName:""},popupConfig:{stationCode:{whType:"0"}},sum:0,defaulttabList:[{key:"tab1",value:"汇总数据"},{key:"tab2",value:"供应商(汇总)"},{key:"tab3",value:"纸类(汇总)"},{key:"tab4",value:"明细数据"}],formData:m()(v),paperTypeRender:Object.assign({},d["d"]),paperTypeItem:Object.assign({},d["c"]),vendCodeTypeRender:Object.assign({},d["j"]),vendCodeTypeItem:Object.assign({},d["i"]),shippingTypeRender:Object.assign({},d["f"]),shippingTypeItem:Object.assign({},d["e"]),columns:[],data:[],pageConfig:{currentPage:1,pageSize:5},loading:!1,disabledAll:!1,requstConfig:{modulePreUrl:"1",mainFormName:""},tableColumnsData:{},seqColumn:[{showOverflow:!0,fixed:"left",type:"seq",visible:!0,title:"#",headerAlign:"center",align:"center",width:38}]}},props:{componentHeight:{type:String|Number,default:"600"}},methods:{tabsChange:function(t){if(this.selectTab=t,this.sum++,this.sum>1)this.sum=0;else switch(this.selectTab){case"tab1":this.formData.queryMode="1",this.searchTableData();break;case"tab2":this.formData.queryMode="2",this.searchTableData();break;case"tab3":this.formData.queryMode="3",this.searchTableData();break;case"tab4":this.formData.queryMode="4",this.searchTableData();break;default:break}},pageChange:function(t){var e=t.pageNumber,a=t.pageSize;this.pageConfig.currentPage=e,this.pageConfig.pageSize=a,this.queryTableData()},checkboxChange:function(){},popupChange:function(t){var e=this,a=t.matchField,i=Object.keys(a);i&&i.forEach((function(t){void 0!=e.formData[t]&&(e.formData[t]=a[t]),"spaperName"===t&&(e.popupName.spaperName=a[t]),"shortName"===t&&(e.popupName.vendName=a[t]),"stationCodeName"===t&&(e.popupName.stationName=a[t])}))},updateStatus:function(t){},ChangeDate:function(t,e){switch(t){case"day":this.formData.startDate=u()().format("YYYY-MM-DD");break;case"week":this.formData.startDate=u()().startOf("week").format("YYYY-MM-DD");break;case"month":this.formData.startDate=u()().startOf("month").format("YYYY-MM-DD");break;default:break}this.formData.endDate=u()().format("YYYY-MM-DD")},ubtractDate:function(t){switch(t){case"day":this.formData.startDate=u()(this.formData.startDate).subtract(1,"day").format("YYYY-MM-DD"),this.formData.endDate=u()(this.formData.startDate).format("YYYY-MM-DD");break;case"week":this.formData.startDate=u()(this.formData.startDate).subtract(1,"week").format("YYYY-MM-DD"),this.formData.endDate=u()(this.formData.startDate).add(1,"week").subtract(1,"day").format("YYYY-MM-DD");break;case"month":this.formData.startDate=u()(this.formData.startDate).subtract(1,"month").format("YYYY-MM-DD"),this.formData.endDate=u()(this.formData.startDate).add(1,"month").format("YYYY-MM-DD");break;default:break}},addDate:function(t){switch(t){case"day":this.formData.startDate=u()(this.formData.startDate).add(1,"day").format("YYYY-MM-DD"),this.formData.endDate=u()(this.formData.startDate).format("YYYY-MM-DD");break;case"week":this.formData.startDate=u()(this.formData.startDate).add(1,"week").format("YYYY-MM-DD"),this.formData.endDate=u()(this.formData.startDate).add(1,"week").subtract(1,"day").format("YYYY-MM-DD");break;case"month":this.formData.startDate=u()(this.formData.startDate).add(1,"month").format("YYYY-MM-DD"),this.formData.endDate=u()(this.formData.startDate).add(1,"month").format("YYYY-MM-DD");break;default:break}},searchTableData:function(){var t=this;this.loading=!0,h["a"].post("/proc/account/pageMultiReport/spAccountSpaperIn",Object(r["a"])(Object(r["a"])({},this.formData),{},{pageSize:this.pageConfig.pageSize,pageNumber:this.pageConfig.currentPage})).then((function(e){console.log(e),e.tableForm&&"4"!==t.formData.queryMode&&t.setTableColumns(e.tableForm),"4"===t.formData.queryMode&&t.getAccSPaperInItemFm(),t.data=e.pageList.records,t.loading=!1})).catch((function(e){t.$XModal.message({message:"数据加载失败！",status:"warning"}),t.loading=!1}))},getAccSPaperInItemFm:function(){var t=this;this.loading=!0,h["a"].get("/sys/form/init/accSPaperInItemFm",{}).then((function(e){t.setTableColumns(e.columns.accSPaperInItemFm.listColumns),t.loading=!1})).catch((function(e){t.$XModal.message({message:"获取表头数据失败",status:"warning"}),t.loading=!1}))},clear:function(){this.formData.spaperGram=0,this.popupName.spaperName="",this.popupName.vendName="",this.popupName.stationName="",this.formData.vendCode="",this.formData.spaperCode="",this.formData.stationCode="",this.searchTableData()},setTableColumns:function(t){var e=this.$refs.firstTable.$refs.originListTalbe;if(e)e.loadColumn([].concat(Object(o["a"])(t),Object(o["a"])(this.seqColumn)))},refreshColumn:function(){if(this.$refs.firstTable){var t=this.$refs.firstTable.$refs.originListTalbe;this.$nextTick((function(){t.refreshColumn().then((function(){return t.refreshScroll()}))}))}}}},w=y,x=(a("f748"),a("5d22")),k=Object(x["a"])(w,i,n,!1,null,"c90469fe",null);e["default"]=k.exports},c294:function(t,e,a){},e551:function(t,e,a){"use strict";a("0ee7")},f748:function(t,e,a){"use strict";a("7b7a")}}]);